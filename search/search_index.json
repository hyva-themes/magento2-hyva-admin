{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"index.html","title":"Hyv\u00e4 Admin","text":"<p>Hyva_Admin is a Magento 2 module that offers a new way to create admin grids.  </p> <p>Existing grids and forms are not affected by installing the module; they remain unchanged.  </p> <p>Hyva_Admin exists to improve the developer experience while creating new grids.</p> <p>In future, Hyva_Admin will support creating forms, too.</p>"},{"location":"index.html#about-hyva_admin","title":"About Hyva_Admin","text":"<p>Hyva_Admin is a Magento 2 module that offers a new way to create admin grids.</p> <p>Existing grids and forms are not affected by installing the module; they remain unchanged.</p> <p>Hyva_Admin exists to improve the developer experience while creating new grids.</p>"},{"location":"index.html#documentation-pull-requests","title":"Documentation Pull Requests","text":"<p>Please note that the documentation is maintained in a separate internal system.</p> <p>As much as help writing documentation is appreciated, please do not include documentation updates in pull requests, as those updates would be overwritten by the next documentation export.</p> <p>Please contact vinai@netzarbeiter.com to discuss alternative ways to contribute documentation changes.</p>"},{"location":"api-reference/event-reference/index.html","title":"Event Reference","text":"<p>Hyva_Admin dispatches some events to allow customization.</p> <p>The events are:</p> <ul> <li><code>'hyva_grid_source_prefetch_' . $this-&gt;getGridNameEventSuffix($gridName)</code></li> <li> <p><code>'hyva_grid_source_prefetch'</code></p> </li> <li> <p><code>'hyva_grid_column_definition_build_after_' . $this-&gt;getGridNameEventSuffix($gridName)</code></p> </li> </ul> <p>The event name suffix is based on the grid name.</p> <p>Because the Magento <code>events.xml</code> schema only allows alphanumeric characters in event names, any non-alphanumeric characters are transformed into underscores, e.g <code>hyva_grid_source_prefetch_product-grid</code> (invalid) becomes <code>hyva_grid_source_prefetch_product_grid</code> (valid).</p> <p>Please refer to the nested pages for detailed information.</p>"},{"location":"api-reference/event-reference/grid-column-definition-build-after-event.html","title":"Grid Column Definition Build After Event","text":"<p>Usually columns are customized by configuring them in grid XML.</p> <p>However, there might be situations where column definitions need to be changed depending on some conditional logic.</p> <p>The <code>hyva_grid_column_definition_build_after</code> event was introduced for this purpose.</p> <p>After the column definition have been built, based on the grid record type and the grid configuration, this event allows for further programatic customization.</p> <p>The dispatched event is</p> <pre><code>'hyva_grid_column_definition_build_after_' . $this-&gt;getGridNameEventSuffix($gridName)\n</code></pre> <p>The grid event name suffix is the grid name in lower case with underscores instead of non-alphanumeric characters. For example a grid named <code>product-grid</code> will dispatch events named <code>hyva_grid_column_definition_build_after_product_grid</code>.</p>"},{"location":"api-reference/event-reference/grid-column-definition-build-after-event.html#event-arguments","title":"Event Arguments","text":"<p>The event arguments are</p> <pre><code>[\n    'grid_name' =&gt; $gridName,\n    'data_container' =&gt; $container\n]\n</code></pre> <p>The grid name is passed along with the event for informational purposes, changing it has no effect.</p> <p>The data container is an instance of</p> <p><code>Hyva\\Admin\\Model\\GridSourceType\\RepositorySourceType\\HyvaGridEventContainer</code>.</p> <p>The container instance contains an associative array with all grid columns definition instances; the array keys being the column IDs.</p>"},{"location":"api-reference/event-reference/grid-column-definition-build-after-event.html#observers","title":"Observers","text":"<p>To update a column definition follow this pattern:</p> <pre><code>public function execute(Observer $observer)\n{\n    /** @var \\Hyva\\Admin\\Model\\GridSourceType\\RepositorySourceType\\HyvaGridEventContainer $container */\n    /** @var \\Hyva\\Admin\\ViewModel\\HyvaGrid\\ColumnDefinitionInterface[] $columnsMap */\n    $container = $observer-&gt;getData('data_container');\n    $columnsMap = $container-&gt;getContainerData(); // map of keys to column definitions\n    $columnsMap['example'] = $columnsMap['example']-&gt;merge(['initiallyHidden' =&gt; 'true']);\n    $container-&gt;replaceContainerData($columnsMap);\n}\n</code></pre> <p>Note: the <code>ColumnDefinition::merge()</code> method does not change the existing instance, instead, it returns a new instance with the merged properties applied.</p> <p>The argument with the properties to merge can be an associative array, or it can be another <code>ColumnDefinitionInterface</code> instance.</p>"},{"location":"api-reference/event-reference/grid-query-before-event.html","title":"Grid Query Before Event","text":"<p>This query is dispatched for grids using an grid source type.</p> <p>First, a <code>Magento\\Framework\\DB\\Select</code> instance is created and the query configuration from the grid XML configuration is applied. (Note: <code>Magento\\Framework\\DB\\Select</code> is just a small wrapper for <code>Zend_Db_Select</code>, the API is the same).</p> <p>Then then filters, sorting and pagination are applied.</p> <p>Finally, right before the SQL query is executed, the</p> <p><code>'hyva_grid_query_before_' . $this-&gt;getGridNameEventSuffix($this-&gt;gridName);</code></p> <p>event is dispatched.</p> <p>This allows to modify or even completely replace the select that is used to load the grid data.</p>"},{"location":"api-reference/event-reference/grid-query-before-event.html#event-arguments","title":"Event Arguments","text":"<p>The event arguments are:</p> <pre><code>[\n    'select_container' =&gt; $container,\n    'grid_name'        =&gt; $this-&gt;gridName,\n]\n</code></pre> <p>The container is an instance of</p> <p><code>Hyva\\Admin\\Model\\Grid\\Source\\Type\\QueryGridSource\\Type\\DbSelectEventContainer</code>.</p>"},{"location":"api-reference/event-reference/grid-query-before-event.html#observers","title":"Observers","text":"<p>Observers can modify or replace the select instance as follows:</p> <pre><code>public function execute(Observer $observer)\n{\n    /** @var DbSelectEventContainer $container */\n    $container = $observer-&gt;getData('select_container');\n    $select    = $container-&gt;getSelect();\n\n    $updatedSelect = $this-&gt;modifyQuery($select);\n\n    $container-&gt;replaceSelect($updatedSelect);\n}\n</code></pre>"},{"location":"api-reference/event-reference/grid-source-prefetch-events.html","title":"Grid Source Prefetch Events","text":"<p>Before the grid data is loaded from the grid source object, two events are dispatched.</p> <ul> <li><code>'hyva_grid_source_prefetch_' . $this-&gt;getGridNameEventSuffix($gridName)</code></li> <li><code>'hyva_grid_source_prefetch'</code></li> </ul> <p>The grid name event suffix is basically the grid name in lower case, with underscores instead of non-alphanumeric characters.</p> <p>For example, a grid named <code>product-grid</code> would dispatch the event <code>hyva_grid_source_prefetch_product_grid</code>.</p> <p>Both events are intended to be used to customize the search criteria instance that will be passed to the grid source.</p>"},{"location":"api-reference/event-reference/grid-source-prefetch-events.html#event-arguments","title":"Event Arguments","text":"<p>The event arguments are</p> <pre><code>[\n    'search_criteria_container' =&gt; $container,\n    'grid_name'                 =&gt; $gridName,\n    'record_type'               =&gt; $recordType\n]\n</code></pre> <p>The container is an instance of</p> <p><code>Hyva\\Admin\\Model\\GridSourceType\\RepositorySourceType\\SearchCriteriaEventContainer</code>.</p> <p>The record type argument is the type for the grid records. It will either be a PHP class or interface, or the string <code>array</code>, or a database table name, depending on the grid configuration.</p> <p>The grid name and the record type are passed along with the event for informational purposes, they can not be changed by observers.</p>"},{"location":"api-reference/event-reference/grid-source-prefetch-events.html#observers","title":"Observers","text":"<p>In an event observer, the search criteria can be updated as shown in this example:</p> <pre><code>public function execute(Observer $observer)\n{\n    /** @var SearchCriteriaEventContainer $searchCriteriaContainer */\n    $searchCriteriaContainer = $event-&gt;getData('search_criteria_container');\n    $type = $event-&gt;getData('record_type');\n\n    $updatedSearchCriteria = $this-&gt;changeCriteria($type, $searchCriteriaContainer-&gt;getSearchCriteria());\n\n    $searchCriteriaContainer-&gt;replaceSearchCriteria($updatedSearchCriteria);\n}\n</code></pre>"},{"location":"api-reference/grid-xml-reference/index.html","title":"Grid XML Reference","text":"<p>The nested documents describe the XML configuration for Hyva Admin grids.</p> <p>When the configurations for a grid is loaded, it is merged from all modules, just like any other Magento 2 XML configuration file.</p> <p>This allows customizing grids that are declared in other modules.</p> <p>The API reference documents are sorted in alphabetical order.</p> <p>If you want to read them all that\u2019s fine, but if you only want to dip your toes into Hyva_Admin grids, I suggest you start with the grid &gt; source configuration, followed by the grid &gt; columns &gt; includes config.</p> <p>Everything else can then be loaded into your brain when it is needed.</p> <p>The grid XML schema may also be of interest - it can be found in the Hyv\u00e4_Admin module at <code>etc/hyva-grid.xsd</code>.</p>"},{"location":"api-reference/grid-xml-reference/actions/index.html","title":"grid &gt; actions","text":"<p>By default a grid as no actions.</p> <p>When actions are configured, they are rendered as the right-most column.</p> <p>Currently each action is rendered as a link.</p> <p>The actions element has a single optional attribute <code>idColumn</code>.</p> <p>It is used to specify the column that contains the value to pass to the link destination as a query parameter.</p> <pre><code>&lt;actions idColumn=\"id\"&gt;\n    &lt;action id=\"edit\" label=\"Edit\" url=\"*/*/edit\"/&gt;\n    &lt;action id=\"delete\" label=\"Delete\" url=\"*/*/delete\"/&gt;\n&lt;/actions&gt;\n</code></pre> <p>If no <code>idColumn</code> is configured, the first column in the grid is used to supply the record identifiers.</p>"},{"location":"api-reference/grid-xml-reference/actions/action/index.html","title":"grid &gt; actions &gt; action","text":"<p>Each action is rendered as a link.</p> <p>An action element has three required attributes and one optional one:</p>"},{"location":"api-reference/grid-xml-reference/actions/action/index.html#id","title":"id","text":"<p>The id attribute is used so it is possible to reference actions during XML merging or as a row action.</p> <p>It is not used in rendering.</p>"},{"location":"api-reference/grid-xml-reference/actions/action/index.html#label","title":"label","text":"<p>The label is used to render the link for that action in the action column.</p>"},{"location":"api-reference/grid-xml-reference/actions/action/index.html#url","title":"url","text":"<p>The url is used to specify the action target.</p> <p>The usual Magento route specification is used, i.e. <code>*</code> is used to reference the current module, action path or action. <code>*/*/*</code> refers to the current action that displays the grid. <code>*/*/foo</code> refers to the current route, current action path, <code>foo</code> action class.</p>"},{"location":"api-reference/grid-xml-reference/actions/action/index.html#idparam-optional","title":"idParam (optional)","text":"<p>The <code>idParam</code> attribute is used to configure the query parameter name to pass the id column value to the target action. If no <code>idParam</code> is present, the <code>idColumn</code> name is used.</p> <p>If no <code>idColumn</code> is set on the actions element, the <code>idColumn</code> defaults to the <code>idParam</code>, or - if that doesn\u2019t match a column - the first column in the grid.</p>"},{"location":"api-reference/grid-xml-reference/actions/action/index.html#examples","title":"Examples:","text":"<pre><code>&lt;actions idColumn=\"id\"&gt;\n    &lt;action id=\"edit\" label=\"Edit\" url=\"*/*/edit\"/&gt;\n    &lt;action id=\"delete\" label=\"Delete\" url=\"*/*/delete\"/&gt;\n&lt;/actions&gt;\n</code></pre> <p>Render two actions Edit and Delete. Both will pass the value of the column <code>id</code> with the query param <code>id</code> to the destination controller.</p> <pre><code>&lt;actions&gt;\n    &lt;action id=\"edit\" label=\"Edit\" url=\"*/*/edit\"/&gt;\n&lt;/actions&gt;\n</code></pre> <p>Render one action Edit. Pass the value of the first column to the destination controller using the query param named after the first column key.</p> <pre><code>&lt;actions&gt;\n    &lt;action id=\"delete\" label=\"Delete\" url=\"*/*/delete\" idParam=\"sku\"/&gt;\n&lt;/actions&gt;\n</code></pre> <p>Render one action Delete. If there is a column <code>sku</code> in the grid, pass the value of that column to the destination controller with the query param <code>sku</code>.</p> <p>If there is no column <code>sku</code>, pass the value of the first column to the destination controller using the query param <code>sku</code>.</p> <pre><code>&lt;actions idColumn=\"sku\"&gt;\n    &lt;action id=\"delete\" label=\"Delete\" url=\"*/*/delete\"/&gt;\n&lt;/actions&gt;\n</code></pre> <p>Render one action Delete. Pass the value of the column <code>sku</code> to the destination controller using the query parameter <code>sku</code>. Note: you will have to create the target actions yourself - they are not created automatically by Hyva_Admin ;)</p>"},{"location":"api-reference/grid-xml-reference/actions/action/event.html","title":"grid &gt; actions &gt; action &gt; event","text":"<p>Status: experimental</p> <p>The API for the action event node might be removed or changed in future.</p> <p>Specifying event triggers on actions allows creating complex ui customizations.</p> <p>Only the event trigger can be specified in the grid XML:</p> <pre><code>&lt;actions&gt;\n    &lt;action id=\"delete\" label=\"Delete\" url=\"*/*/delete\"&gt;\n        &lt;event on=\"click\"/&gt;\n    &lt;/action&gt;\n&lt;/actions&gt;\n</code></pre>"},{"location":"api-reference/grid-xml-reference/actions/action/event.html#event-name","title":"Event Name","text":"<p>The event name is built based on the grid name, the action id and the event trigger:</p> <pre><code>private function getEventName(): string\n{\n    $gridNameInEvent = $this-&gt;eventify($this-&gt;gridName);\n    return sprintf('hyva-grid-%s-action-%s-%s', $gridNameInEvent, $this-&gt;eventify($this-&gt;targetId), $this-&gt;on);\n}\n</code></pre> <p>For example, given a grid named products-query-grid, and an action with the id delete, the JavaScript event that is dispatched is</p> <p><code>hyva-grid-products-query-grid-action-delete-click</code></p>"},{"location":"api-reference/grid-xml-reference/actions/action/event.html#event-subscribers","title":"Event Subscribers","text":"<p>Event subscribers can be declared in .phtml template files that are added to the grid page via layout XML.</p> <p>Example:</p> <pre><code>&lt;script&gt;\nwindow.addEventListener('hyva-grid-products-grid-action-delete-click', e =&gt; {\n    if (! confirm('&lt;?= __('Are you sure?') ?&gt;')) {\n        e.detail.origEvent.preventDefault();\n    }\n});\n&lt;/script&gt;\n</code></pre>"},{"location":"api-reference/grid-xml-reference/actions/action/event.html#event-arguments","title":"Event Arguments","text":"<p>The event arguments can be retrieved from the events.detail property in subscribers.</p>"},{"location":"api-reference/grid-xml-reference/actions/action/event.html#eventdetailorigevent","title":"event.detail.origEvent","text":"<p>This is the original event that was triggered by the user interaction.</p> <p>probably this is mainly useful to abort user actions with <code>event.detail.origEvent.preventDefault()</code>.</p>"},{"location":"api-reference/grid-xml-reference/actions/action/event.html#eventdetailrow","title":"event.detail.row","text":"<p>This property is a reference to the clicked grid table row.</p> <p>It might be useful to retrieve the rendered cell values in a kind of hacky way.</p>"},{"location":"api-reference/grid-xml-reference/actions/action/event.html#eventdetailviewmodel","title":"event.detail.viewModel","text":"<p>This is the Alpine.js view model of the grid.</p>"},{"location":"api-reference/grid-xml-reference/actions/action/event.html#eventdetailaction","title":"event.detail.action","text":"<p>This is the grid action id. In the examples on this page it is the string <code>delete</code>.</p>"},{"location":"api-reference/grid-xml-reference/actions/action/event.html#eventdetailparams","title":"event.detail.params","text":"<p>This is the map of parameters that would be passed to the URL. It depends on the action configuration.</p> <p>The following example will add the params <code>{foo =&gt; idValue}</code>:</p> <pre><code>&lt;actions idColumn=\"id\"&gt;\n    &lt;action id=\"delete\" label=\"Delete\" url=\"*/*/delete\" idParam=\"foo\"&gt;\n        &lt;event on=\"click\"/&gt;\n    &lt;/action&gt;\n&lt;/actions&gt;\n</code></pre>"},{"location":"api-reference/grid-xml-reference/columns/index.html","title":"grid &gt; columns","text":""},{"location":"api-reference/grid-xml-reference/columns/index.html#showing-and-hiding-columns","title":"Showing and hiding columns","text":"<p>If no columns are configured, the default is to show all available fields.</p> <p>If the default isn\u2019t sufficient, the columns can be configured using the <code>grid/columns/include</code> and <code>grid/columns/exclude</code> child nodes.</p> <p>The behavior what is displayed is quite intuitive, but not super simple to explain in words:</p> <p>No <code>include</code> and no <code>exclude</code> configuration:</p> <p>\u2192 display all columns</p> <p>Only <code>include</code> and no <code>exclude</code> configuration:</p> <p>\u2192 display only the columns under <code>include</code>.</p> <p>No <code>include</code> and only an <code>exclude</code> configuration:</p> <p>\u2192 display all columns except the excluded ones.</p> <p>Both <code>include</code> and <code>exclude</code> configuration:</p> <p>\u2192 display all included columns except the ones that where excluded.</p> <p>The include element can have an option attribute <code>keepAllSourceColumns</code>. If it is present and set to <code>true</code>, then configuring include columns will not automatically hide other available columns.</p>"},{"location":"api-reference/grid-xml-reference/columns/index.html#grid-row-actions","title":"Grid row actions","text":"<p>Grid columns can have a <code>rowAction</code> attribute, which refers to the ID value of an action configured in the grid/actions element.</p> <pre><code>&lt;columns rowAction=\"edit\"&gt;\n    ....\n&lt;/columns&gt;\n&lt;actions&gt;\n    &lt;action id=\"edit\" label=\"Edit\" url=\"*/*/edit\"/&gt;\n&lt;/actions&gt;\n</code></pre> <p>The row action is triggered when a row is clicked.</p>"},{"location":"api-reference/grid-xml-reference/columns/index.html#examples","title":"Examples:","text":"<p>Display all available columns (just as if no <code>&lt;columns/&gt;</code> node where present):</p> <pre><code>&lt;columns&gt;\n&lt;/columns&gt;\n</code></pre> <p>Display only the <code>id</code> and <code>sku</code> columns:</p> <pre><code>&lt;columns&gt;\n    &lt;include&gt;\n        &lt;column name=\"id\"/&gt;\n        &lt;column name=\"sku\"/&gt;\n    &lt;/include&gt;\n&lt;/columns&gt;\n</code></pre> <p>Display all available source columns except the <code>category_gear</code> column:</p> <pre><code>&lt;columns&gt;\n    &lt;exclude&gt;\n        &lt;column name=\"category_gear\"/&gt;\n    &lt;/exclude&gt;\n&lt;/columns&gt;\n</code></pre> <p>Display the <code>id</code>, <code>sku</code> and <code>name</code> columns only:</p> <pre><code>&lt;columns&gt;\n    &lt;include&gt;\n        &lt;column name=\"id\"/&gt;\n        &lt;column name=\"sku\"/&gt;\n        &lt;column name=\"activity\"/&gt;\n        &lt;column name=\"name\"/&gt;\n    &lt;/include&gt;\n    &lt;exclude&gt;\n        &lt;column name=\"activity\"/&gt;\n    &lt;/exclude&gt;\n&lt;/columns&gt;\n</code></pre> <p>Display all available columns except the <code>category_gear</code> column:</p> <pre><code>&lt;columns&gt;\n    &lt;include keepAllSourceColumns=\"true\"&gt;\n        &lt;column name=\"id\"/&gt;\n        &lt;column name=\"price\" type=\"price\"/&gt;\n    &lt;/include&gt;\n    &lt;exclude&gt;\n        &lt;column name=\"category_gear\"/&gt;\n    &lt;/exclude&gt;\n&lt;/columns&gt;\n</code></pre> <p>The <code>id</code> column will be displayed first, and the <code>price</code> column will be displayed second, and the value will be rendered as a price.</p>"},{"location":"api-reference/grid-xml-reference/columns/exclude/index.html","title":"grid &gt; columns &gt; exclude","text":"<p>Without any exclude columns, all columns will be displayed.</p> <p>Exclude columns can be used to hide columns from a grid.</p> <pre><code>&lt;columns&gt;\n    &lt;exclude&gt;\n        &lt;column name=\"category_gear\"/&gt;\n    &lt;/exclude&gt;\n&lt;/columns&gt;\n</code></pre>"},{"location":"api-reference/grid-xml-reference/columns/exclude/column.html","title":"grid &gt; columns &gt; exclude &gt; column","text":"<p>Exclude columns only have a single required attribute name.</p> <pre><code>&lt;exclude&gt;\n    &lt;column name=\"internal_id\"/&gt;\n&lt;/exclude&gt;\n</code></pre>"},{"location":"api-reference/grid-xml-reference/columns/include/index.html","title":"grid &gt; columns &gt; include","text":"<p>If present, only the included columns will be rendered. The behavior can be changed by specifying the attribute <code>keepAllSourceColumns=\"true\"</code>.</p>"},{"location":"api-reference/grid-xml-reference/columns/include/index.html#examples","title":"Examples:","text":"<p>Display only the <code>id</code> and <code>sku</code> columns:</p> <pre><code>&lt;include&gt;\n    &lt;column name=\"id\"/&gt;\n    &lt;column name=\"sku\"/&gt;\n&lt;/include&gt;\n</code></pre> <p>Display all available columns:</p> <pre><code>&lt;include keepAllSourceColumns=\"true\"&gt;\n    &lt;column name=\"id\"/&gt;\n    &lt;column name=\"sku\"/&gt;\n&lt;/include&gt;\n</code></pre> <p>Using <code>keepAllSourceColumns=\"true\"</code> is useful for specifying additional properties for individual columns, or for moving only some columns to the left side of the grid.</p>"},{"location":"api-reference/grid-xml-reference/columns/include/column/index.html","title":"grid &gt; columns &gt; include &gt; column","text":"<p>The include <code>column</code> element allows configuring if column should be displayed or not, and if it is displayed, how the column should be rendered.</p> <p>The include <code>column</code> can have a number of attributes, almost all of which are optional:</p> <ul> <li>name (required)</li> <li>label</li> <li>type</li> <li>template</li> <li>renderAsUnsecureHtml</li> <li>rendererBlockName</li> <li>sortOrder</li> <li>sortable</li> <li>source</li> <li>initiallyHidden</li> </ul> <p>In the following you can find a description of each column attribute.</p>"},{"location":"api-reference/grid-xml-reference/columns/include/column/index.html#name","title":"name","text":"<p>This is the only required attribute. It specifies the column key that is used to fetch the cell value from the grid source record.</p> <pre><code>&lt;column name=\"sku\"/&gt;\n</code></pre>"},{"location":"api-reference/grid-xml-reference/columns/include/column/index.html#label","title":"label","text":"<p>The <code>label</code> is shown as the column title. Without a label attribute the title is determined from the column name.</p> <pre><code>&lt;column name=\"image\" label=\"Main Image\"/&gt;\n</code></pre>"},{"location":"api-reference/grid-xml-reference/columns/include/column/index.html#type","title":"type","text":"<p>The type influences how a column value is rendered in a grid cell. It sometimes can be determined automatically, but then again, sometimes Hyva_Admin will guess wrong, or maybe there is a more specific or custom value type you want to use.</p> <p>The main purpose a column has a type is to turn the raw value from the record into a string or HTML that can be rendered in a grid cell.</p> <pre><code>&lt;column name=\"amount\" type=\"price\"/&gt; \n</code></pre> <p>For PHP values that can be rendered as strings natively usually no type attribute is required.</p> <p>If the simply string cast is not sufficient, for example, a decimal value representing a currency amount, a simple existing type can be used, e.g. <code>type=\"price\"</code> or <code>type=\"datetime\"</code> so it looks nicer.</p> <p>If a record contains PHP custom objects that can\u2019t be cast to a string, then a custom type is required.</p> <p>There are many existing types you can use as an example. The existing types can be found in the <code>Hyva_Admin</code> module directory <code>Hyva/Admin/Model/DataType</code>. Each type class has to implement the interface <code>Hyva\\Admin\\Api\\DataType\\ValueToStringConverterInterface</code> (or <code>Hyva\\Admin\\Api\\DataTypeInterface</code> which inherits the former).</p> <p>More information on the interfaces can be found in the Hyva_Admin PHP type reference.</p>"},{"location":"api-reference/grid-xml-reference/columns/include/column/index.html#template","title":"template","text":"<p>Sometimes column values require special treatment to be rendered, or maybe multiple column values need to be combined in one cell (e.g. an image URL as a <code>&lt;img src</code> attribute and an image label as the <code>&lt;img alt</code> attribute).</p> <p>For such cases the template attribute is used configure the template to render each cell. The file is specified in the <code>Vendor_Module::file.phtml</code> syntax common in Magento 2.</p> <pre><code>&lt;column name=\"documents\" template=\"My_Module::grid/cell/docs.phtml\"/&gt;\n</code></pre> <p>In the template, the cell instance that is currently being rendered is automatically injected as the variable <code>$cell</code>.</p> <p>This type hint can be added to the <code>.phtml</code> file to allow autocompletion in IDEs:</p> <pre><code>/** @var \\Hyva\\Admin\\ViewModel\\HyvaGridCellInterface $cell */\n</code></pre>"},{"location":"api-reference/grid-xml-reference/columns/include/column/index.html#renderasunsecurehtml","title":"renderAsUnsecureHtml","text":"<p>By default all cell content is escaped, so no malicious code can be injected.</p> <p>If a cell content needs to be rendered as HTML (for example an image or a link), the attribute <code>renderAsUnsecureHtml=\"true\"</code> has to be specified.</p> <pre><code>&lt;column name=\"image\" type=\"magento_product_image\" renderAsUnsecureHtml=\"true\"/&gt;\n</code></pre> <p>If <code>renderAsUnsecure</code> is set to <code>true</code>, the data type method <code>DataType\\ValueToStringConverterInterface::toHtmlRecursive()</code></p> <p>is used to fetch a cells content for rendering.</p> <p>If <code>renderAsUnsecure</code> is set to <code>false</code>, the data type method <code>DataType\\ValueToStringConverterInterface::toString()</code></p> <p>is used to fetch a cells content for rendering.</p>"},{"location":"api-reference/grid-xml-reference/columns/include/column/index.html#rendererblockname","title":"rendererBlockName","text":"<p>In some cases specifying a template to render a grid cell might not be sufficient. For example, if additional functionality through view models is required, those can not be made available to the template block rendering the cells.</p> <p>To support advanced use cases like this, the layout XML name of a block that is declared somewhere else in the page layout can be set as the renderBlockName.</p> <pre><code>&lt;column name=\"activity\" rendererBlockName=\"activity-renderer-block\"/&gt;\n</code></pre> <p>The renderer block will be used to render each cell in that column, roughly using code like this:</p> <pre><code>$renderer = $layout-&gt;getBlock($rendererBlockName);\nreturn $renderer-&gt;setData('cell', $this)-&gt;toHtml()\n</code></pre> <p>This PHP code snippet is only shown to further understanding of the internal workings - you don\u2019t have to add this code - all you have to do is declare the renderer block in layout XML, and maybe specify the template it should use.</p> <p>Please note that this block has to be declared in layout XML on every page the grid is used.</p> <p>Please also note that adding a block renderer for a column automatically disables Ajax navigation, because the layout XML that defines the renderer block would not be loaded during the processing of the Ajax navigation request.</p> <p>To access the cell data in the custom renderer, use <code>$this-&gt;getData('cell')</code>.</p> <p>If the custom renderer uses a template, the cell can be accessed within the template using</p> <p><code>$block-&gt;getData('cell')</code>.</p>"},{"location":"api-reference/grid-xml-reference/columns/include/column/index.html#sortorder","title":"sortOrder","text":"<p>Without any include columns configuration, columns are sorted however they are returned by the grid source type class.</p> <p>If include columns are configured, the columns in the grid are rendered in the same order as the grids in the grid XML.</p> <p>If include <code>keepAllSourceColumns=\"true\"</code> is set, all specified include columns are rendered first, and then all remaining available columns are rendered after those.</p> <p>This will take care of at least 80% of all grids.</p> <p>However, maybe you want to change the sort order of a grid that is declared in a different module through XML merging.</p> <p>To support this use case, a <code>sortOrder</code> attribute can be set on columns. Columns are sorted in ascending order, e.g.  <code>sortOrder=\"1\"</code> before <code>sortOrder=\"2\"</code>.</p> <pre><code>&lt;column name=\"id\" sortOrder=\"20\"/&gt;\n&lt;column name=\"sku\" sortOrder=\"10\"/&gt;\n</code></pre>"},{"location":"api-reference/grid-xml-reference/columns/include/column/index.html#sortable","title":"sortable","text":"<p>By default columns are sortable by clicking on the column title, except if the column is based on extension attributes or other linked values that are loaded in a separate query, like the product <code>media_gallery</code> or <code>category_ids</code> attributes.</p> <p>To disable sorting on a column, specify <code>sortable=\"false\"</code> in the grid configuration.</p> <pre><code>&lt;column name=\"sku\" sortable=\"false\"/&gt;\n</code></pre>"},{"location":"api-reference/grid-xml-reference/columns/include/column/index.html#source","title":"source","text":"<p>For EAV attributes that use a <code>select</code> or <code>multiselect</code> frontend input, the attribute source model is determined automatically.</p> <p>But if you need to, you can specify an attribute source model with the source column attribute.</p> <pre><code>&lt;column name=\"websites\" source=\"Magento\\Customer\\Model\\Customer\\Attribute\\Source\\Website\"/&gt;\n</code></pre> <p>The class will then be used to map the column values to the display label.</p> <p>The class has to implement the <code>Magento\\Eav\\Model\\Entity\\Attribute\\Source\\SourceInterface</code> interface.</p> <p>Note that for simple cases attribute options can also be configured using option child elements. Please refer to the grid:columns:include:column:option documentation for more information.</p>"},{"location":"api-reference/grid-xml-reference/columns/include/column/index.html#initiallyhidden","title":"initiallyHidden","text":"<p>By default, all columns inside the <code>&lt;include&gt;</code> section will be displayed on the grid the first time it is loaded.</p> <p>If you need to hide a column by initially, but at the same time allow a user to display it in the grid using the \u201cDisplay\u201d dropdown, you can set this attribute to <code>\"true\"</code>.</p> <p>Please note this only affects the initial state of the grid. Once it has been loaded into the browser page, the column display state is stored in session storage.</p> <pre><code>&lt;column name=\"image\" initiallyHidden=\"true\"/&gt;\n</code></pre>"},{"location":"api-reference/grid-xml-reference/columns/include/column/option.html","title":"grid &gt; columns &gt; include &gt; column &gt; option","text":"<p>For simple use cases it would be too much to create a PHP source model.</p> <p>For example, when a list of websites for a shop is pretty static, it might be enough to just hardcode them in a grid configuration for a column.</p> <pre><code>&lt;column name=\"websites\"&gt;\n    &lt;option value=\"5\" label=\"Spain\"/&gt;\n    &lt;option value=\"2\" label=\"Italy\"/&gt;\n    &lt;option value=\"30\" label=\"Germany\"/&gt;\n    &lt;option value=\"31\" label=\"Poland\"/&gt;\n    &lt;option value=\"5\" label=\"Estonia\"/&gt;\n&lt;/column&gt;\n</code></pre> <p>Column values will automatically be mapped from the value to a matching label when options are present. Option values don\u2019t have to be numbers, they can also be string values.</p> <p>The option labels are always passed through the translation function <code>__()</code> before they are rendered.</p>"},{"location":"api-reference/grid-xml-reference/entityconfig/index.html","title":"grid &gt; entityConfig","text":"<p>The grid entity configuration is currently only used to specify the labels to display when a grid is empty.</p> <pre><code>&lt;entityConfig&gt;\n    &lt;label&gt;\n        &lt;singular&gt;Product&lt;/singular&gt;\n        &lt;plural&gt;Products&lt;/plural&gt;\n    &lt;/label&gt;\n&lt;/entityConfig&gt;\n</code></pre> <p>The above example would render</p> <pre><code>No Products found.\n</code></pre> <p>If no entityConfig is present, the grid name is used instead. On a grid with the name product-grid, the message would then look like this:</p> <pre><code>No product-grid records found.\n</code></pre> <p>In future more children elements might be added to the <code>entityConfig</code> element.</p>"},{"location":"api-reference/grid-xml-reference/entityconfig/label/index.html","title":"grid &gt; entityConfig &gt; label","text":"<p>The <code>entityConfig</code> label is only used as a parent to group the singular and plural children elements.</p>"},{"location":"api-reference/grid-xml-reference/entityconfig/label/plural.html","title":"grid &gt; entityConfig &gt; label &gt; plural","text":"<p>The entityConfig <code>plural</code> node configures the entity name to render when no records are found for a grid.</p> <p>If no <code>plural</code> label is present, the value of the sibling element <code>singular</code> is used with a <code>s</code> suffix as the default.</p> <p>If both the <code>plural</code> and the <code>singular</code> entity config label is absent, then the grid name is used as a fallback.</p> <pre><code>&lt;entityConfig&gt;\n    &lt;label&gt;\n        &lt;singular&gt;Product&lt;/singular&gt;\n        &lt;plural&gt;Products&lt;/plural&gt;\n    &lt;/label&gt;\n&lt;/entityConfig&gt;\n</code></pre>"},{"location":"api-reference/grid-xml-reference/entityconfig/label/singluar.html","title":"grid &gt; entityConfig &gt; label &gt; singluar","text":"<p>Please refer to the documentation for the grid &gt; entityConfig &gt; label &gt; plural for information.</p>"},{"location":"api-reference/grid-xml-reference/massactions/index.html","title":"grid &gt; massActions","text":"<p>Mass actions allow selecting multiple records in a grid and passing their ID values to a target controller.</p> <p>By default no mass actions are present in a grid.</p> <p>When mass actions are configured, an additional column is rendered in leftmost position with a checkbox for each record.</p> <p>Also, a dropdown with all mass actions is added above the grid. As soon as one of the options is selected, the IDs of all selected records are sent to the selected mass action controller.</p> <p>If no records are selected, an alert is displayed instead of triggering the mass action.</p> <p>The <code>massActions</code> element has two optional attributes:</p>"},{"location":"api-reference/grid-xml-reference/massactions/index.html#idcolumn","title":"idColumn","text":"<p>The <code>idColumn</code> attribute specifies the column name that supplies the mass action ID value.</p> <p>If no <code>idColumn</code> is configured, the first grid column is used to supply the record IDs.</p>"},{"location":"api-reference/grid-xml-reference/massactions/index.html#idsparam","title":"idsParam","text":"<p>The optional <code>idParams</code> attribute is used to configure the name of the query argument that is used to pass the selected ID values to the destination mass action controllers.</p> <p>If no <code>idsParam</code> is specified, the <code>idColumn</code> value is used.</p>"},{"location":"api-reference/grid-xml-reference/massactions/index.html#example","title":"Example:","text":"<pre><code>&lt;massActions idColumn=\"id\" idsParam=\"productIds\"&gt;\n    &lt;action id=\"reindex\" label=\"Reindex\" url=\"*/massAction/reindex\"/&gt;\n&lt;/massActions&gt;\n</code></pre>"},{"location":"api-reference/grid-xml-reference/massactions/action.html","title":"grid &gt; massActions &gt; action","text":"<p>Each massAction action element configures an option in the mass action dropdown.</p> <p>The massAction action has three required and one optional attribute:</p>"},{"location":"api-reference/grid-xml-reference/massactions/action.html#id","title":"id","text":"<p>The <code>id</code> attribute is used so it is possible to reference mass actions during XML merging.</p> <p>It is not used in rendering.</p>"},{"location":"api-reference/grid-xml-reference/massactions/action.html#label","title":"label","text":"<p>The label is used to render the option for a mass action in the mass actions dropdown.</p>"},{"location":"api-reference/grid-xml-reference/massactions/action.html#url","title":"url","text":"<p>The url is used to specify the mass action target.</p> <p>The usual Magento route specification is used, i.e. <code>*</code> is used to reference the current module, action path or action. <code>*/*/*</code> refers to the current action that displays the grid. <code>*/*/foo</code> refers to the current route, current action path, <code>foo</code> action class.requireConfirmation</p>"},{"location":"api-reference/grid-xml-reference/massactions/action.html#requireconfirmation","title":"requireConfirmation","text":"<p>By default a mass action is triggered as soon as the option is selected. When requireConfirmation=\"true\" is set, the user is prompted after the option is selected and before the mass action is triggered.</p> <p>This is useful to help avoid the accidental triggering of destructive or expensive operations.</p>"},{"location":"api-reference/grid-xml-reference/massactions/action.html#example","title":"Example","text":"<pre><code>&lt;action id=\"reindex\" label=\"Reindex\" url=\"*/massAction/reindex\"/&gt;\n&lt;action id=\"delete\" label=\"Delete\" url=\"*/massAction/delete\" requireConfirmation=\"true\"/&gt;\n</code></pre>"},{"location":"api-reference/grid-xml-reference/navigation/index.html","title":"grid &gt; navigation","text":"<p>The grid navigation contains the paging, sorting and filtering grid configuration.</p> <p>There is one attribute, <code>useAjax</code>.</p> <pre><code>&lt;navigation useAjax=\"false\"&gt;\n    &lt;exports&gt;\n            &lt;export type=\"csv\" label=\"Export as CSV\"/&gt;\n    &lt;/exports&gt;\n    &lt;pager&gt;\n        &lt;pageSizes&gt;2,5,10&lt;/pageSizes&gt;\n    &lt;/pager&gt;\n    &lt;sorting&gt;\n        &lt;defaultSortByColumn&gt;foo&lt;/defaultSortByColumn&gt;\n    &lt;/sorting&gt;\n    &lt;filters&gt;\n        &lt;filter column=\"sku\"/&gt;\n    &lt;/filters&gt;\n    &lt;buttons&gt;\n        &lt;button id=\"add\" label=\"Add\" url=\"*/*/add\" enabled=\"false\"/&gt;\n    &lt;/buttons&gt;\n&lt;/navigation&gt;\n</code></pre> <p>By default, grids use Ajax navigation. The <code>useAjax</code> attribute can be used to disable Ajax navigation for a grid.</p> <p>Info</p> <p>If a grid uses a column with a cell renderer via <code>rendererBlockName</code> Ajax paging will be automatically disabled for the grid, too, because the layout XML that defines the renderer block will not be loaded during Ajax navigation request processing.</p> <p>For example:</p> <pre><code>&lt;column name=\"activity\" rendererBlockName=\"myRendererBlock\"/&gt;\n</code></pre> <p>A column like this will disable Ajax navigation.</p>"},{"location":"api-reference/grid-xml-reference/navigation/buttons/index.html","title":"grid &gt; navigation &gt; buttons","text":"<p>The <code>&lt;buttons&gt;</code> element is used to declare buttons that should be rendered above the grid.</p> <pre><code>&lt;navigation&gt;\n    &lt;buttons&gt;\n        &lt;button id=\"add\" label=\"Add\" url=\"*/*/add\"/&gt;\n        &lt;button id=\"refresh\" label=\"Refresh Grid\" onclick=\"window.location.reload(true)\" sortOrder=\"1\"/&gt;\n        &lt;button id=\"sync\" template=\"Module_Name::sync-button.phtml\" enabled=\"false\"/&gt;\n    &lt;/buttons&gt;\n&lt;/navigation&gt;\n</code></pre> <p>Buttons can specify the effect they have through either an <code>url</code> or an <code>onclick</code> attribute.</p> <p>They support multiple attributes:</p>"},{"location":"api-reference/grid-xml-reference/navigation/buttons/index.html#id-required","title":"id (required)","text":"<p>The required <code>id</code> attribute is used to give a button a unique identifier. It can be used to alter a button declaration through XML merging.</p>"},{"location":"api-reference/grid-xml-reference/navigation/buttons/index.html#label","title":"label","text":"<p>The <code>label</code> that will be rendered on the button. The label will be passed through the __() translation method before it is rendered.</p>"},{"location":"api-reference/grid-xml-reference/navigation/buttons/index.html#url","title":"url","text":"<p>The url attribute takes a route declaration in the standard Magento notation of <code>routeid/action_path/action</code>. A <code>*</code> value indicates the current value should be used. There is no way to specify query arguments.</p>"},{"location":"api-reference/grid-xml-reference/navigation/buttons/index.html#onclick","title":"onclick","text":"<p>With <code>onclick</code> arbitrary JavaScript can be executed when a button is clicked.</p>"},{"location":"api-reference/grid-xml-reference/navigation/buttons/index.html#sortorder","title":"sortOrder","text":"<p>By default buttons are rendered in the order they are declared. Buttons that have a <code>sortOrder</code> attribute are rendered before buttons without this attribute.</p> <p>A smaller number causes a button to be rendered earlier (more to the left).</p>"},{"location":"api-reference/grid-xml-reference/navigation/buttons/index.html#enabled","title":"enabled","text":"<p>By setting the <code>enabled=\"false\"</code> attribute, buttons can be removed from a grid. Usually this is used through XML merging.</p>"},{"location":"api-reference/grid-xml-reference/navigation/buttons/index.html#template","title":"template","text":"<p>In order to allow uttermost customizability, a custom template can be used to render a button.</p> <p>If a template attribute is specified, the whole HTML for that button has to be rendered by the template .phtml file.</p> <p>For example:</p> <pre><code>&lt;a class=\"btn btn-primary inline-flex mx-2 cursor-pointer\"\n    onclick=\"&lt;?= $button-&gt;getOnClick() ?&gt;\"&gt;\n    &lt;span&gt;&lt;?= $escaper-&gt;escapeHtml(__($button-&gt;getLabel())) ?&gt;&lt;/span&gt;\n&lt;/a&gt;\n</code></pre> <p>The button instance is assigned as a template variable. It is helpful to add it to the template as a PHPDoc type hint:</p> <pre><code>/** @var Hyva\\Admin\\ViewModel\\HyvaGrid\\GridButtonInterface $button */\n</code></pre>"},{"location":"api-reference/grid-xml-reference/navigation/buttons/button.html","title":"grid &gt; navigation &gt; buttons &gt; button","text":"<p>Please refer to the grid &gt; navigation &gt; buttons documentation page for the relevant documentation.</p>"},{"location":"api-reference/grid-xml-reference/navigation/exports/index.html","title":"grid &gt; navigation &gt; exports","text":"<p>The <code>&lt;exports&gt;</code> node is used configure available export types for a grid.</p> <pre><code>&lt;navigation&gt;\n    &lt;exports&gt;\n        &lt;export type=\"csv\" label=\"Export as CSV\"/&gt;\n        &lt;export type=\"xml\" label=\"Export as XML\" enabled=\"false\"/&gt;\n        &lt;export type=\"xlsx\" label=\"Export as XLSX\"/&gt;\n        &lt;export type=\"custom\"\n                label=\"Export as my custom format\"\n                class=\"My\\Module\\Model\\CustomGridExport\"\n                fileName=\"example.foo\"\n                sortOrder=\"1\"\n        /&gt;\n    &lt;/exports&gt;\n&lt;/navigation&gt;\n</code></pre> <p>Each available type is declared as a child <code>&lt;export&gt;</code> node.</p> <p>Each export is identified by its type. Three types are available out of the box (csv, xml and xlsx).</p> <p>Further information about implementing custom export types can be found in the PHP API reference under Grid AbstractExportType.</p>"},{"location":"api-reference/grid-xml-reference/navigation/exports/index.html#attributes","title":"Attributes","text":"<p>The <code>&lt;exports&gt;</code> node has no attributes, but the child  several:"},{"location":"api-reference/grid-xml-reference/navigation/exports/index.html#type-required","title":"type (required)","text":"<p>The <code>type</code> attribute identifies each configured export. The value is a short string identifier that also usually works as a file name suffix for the export file.</p>"},{"location":"api-reference/grid-xml-reference/navigation/exports/index.html#label","title":"label","text":"<p>The <code>label</code> for the export link. If it isn\u2019t specified, it defaults to</p> <p><code>'Export as ' . mb_strtoupper($this-&gt;getType())</code>.</p>"},{"location":"api-reference/grid-xml-reference/navigation/exports/index.html#enabled","title":"enabled","text":"<p>The <code>enabled</code> attribute can be used to disable export types that are declared elsewhere.</p>"},{"location":"api-reference/grid-xml-reference/navigation/exports/index.html#class","title":"class","text":"<p>The name of the PHP class to generate the export file. Useful only for custom export types.</p> <p>It can also be used to override a default export type implementation.</p>"},{"location":"api-reference/grid-xml-reference/navigation/exports/index.html#filename","title":"fileName","text":"<p>The name of the export file, relative to the export types export dir. Files in subdirectories are supported (e.g. <code>export/export.foo</code>). If not specified, the grid name plus the export type as the file name suffix is used.</p>"},{"location":"api-reference/grid-xml-reference/navigation/exports/index.html#sortorder","title":"sortOrder","text":"<p>By default exports are rendered in the order they are found in the configuration.</p> <p>The order can be change with the <code>sortOrder</code> attribute. Export types with a <code>sortOrder</code> will be rendered before export types without a <code>sortOrder</code> attribute.</p>"},{"location":"api-reference/grid-xml-reference/navigation/exports/export.html","title":"grid &gt; navigation &gt; exports &gt; export","text":"<p>Please refer to the grid &gt; navigation &gt; exports documentation page for the relevant documentation</p>"},{"location":"api-reference/grid-xml-reference/navigation/filters/index.html","title":"grid &gt; navigation &gt; filters","text":"<p>The <code>filters</code> configuration is used to specify which columns are filterable.</p> <p>There are a number of different filter types, and custom filters can also be used.</p> <pre><code>&lt;filters&gt;\n    &lt;filter column=\"id\"/&gt;\n    &lt;filter column=\"sku\"/&gt;\n    &lt;filter column=\"activity\"/&gt;\n&lt;/filters&gt;\n</code></pre> <p>By default no filters are rendered.</p> <p>The filter type is determined automatically based on a columns type.</p> <p>More information on filter types can be found on the PHP class documentation for <code>Hyva\\Admin\\Api\\GridFilterTypeInterface</code>.</p> <p>Not all column types can automatically be mapped to a filter type. In such cases a <code>filterType</code> class needs to be set on a <code>filter</code>.</p>"},{"location":"api-reference/grid-xml-reference/navigation/filters/filter/index.html","title":"grid &gt; navigation &gt; filters &gt; filter","text":"<p>A <code>filter</code> element enables (or disables) filtering for a column.</p> <p>Unless a filter is configured explicitly, a column is not filterable.</p> <pre><code>&lt;filter column=\"sku\"/&gt;\n</code></pre> <p>How a filter is rendered and is applied is determined by the column definition:</p> <ul> <li>Column type <code>bool</code> \u2192 Filter type <code>boolean</code></li> <li>Column type <code>datetime</code> \u2192 Filter type <code>date-range</code></li> <li>Column type <code>int</code> \u2192 Filter type <code>value-range</code></li> <li>Column with options \u2192 Filter type <code>select</code></li> <li>All other \u2192 Filter type <code>text</code></li> </ul> <p>There is one exception: if a filter is has options or a source attribute, it will always be rendered as a select filter, regardless of the columns type.</p> <p>It is also possible to create custom filter types (see below).</p> <p>The <code>filter</code> element as one required and four optional attributes.</p>"},{"location":"api-reference/grid-xml-reference/navigation/filters/filter/index.html#column-required","title":"column (required)","text":"<p>This attribute refers to the column that should be filterable. The attribute value is the column name.</p>"},{"location":"api-reference/grid-xml-reference/navigation/filters/filter/index.html#template","title":"template","text":"<p>When the default filter templates are not sufficient, a custom filter template can be specified with the <code>template</code> attribute in the common Magento <code>Vendor_Module:template-file.phtml</code> notation.</p> <pre><code>&lt;filter column=\"images\" template=\"My_Module::grid/filters/image-filter.phtml\"/&gt;\n</code></pre> <p>The filter instance is injected in the template automatically with the variable <code>$filter</code>.</p> <p>A PHPDoc type hint can be added with the following code to supply IDE auto-completion:</p> <pre><code>/** @var Hyva\\Admin\\ViewModel\\HyvaGrid\\GridFilterInterface $filter */\n</code></pre> <p>The included templates can be used as a reference and can be found in the Hyva_Admin module directory <code>view/adminhtml/templates/filter</code>.</p>"},{"location":"api-reference/grid-xml-reference/navigation/filters/filter/index.html#enabled","title":"enabled","text":"<p>The enabled attribute can be used to disable a filter that was declared in another grid XML configuration.</p> <pre><code>&lt;filter column=\"sku\" enabled=\"false\"/&gt;\n</code></pre>"},{"location":"api-reference/grid-xml-reference/navigation/filters/filter/index.html#filtertype","title":"filterType","text":"<p>The filterType attribute is used to specify a custom filter type class.</p> <pre><code>&lt;filter column=\"category_links\"\n        filterType=\"My\\Module\\Admihtml\\GridFilter\\CategoryLinksGridFilter\"/&gt;\n</code></pre> <p>Filter types are responsible for supplying the filter renderer (a template block instance) and for applying filter values to a <code>SearchCriteria</code> instance.</p> <p>All filter types implement the interface <code>Hyva\\Admin\\Api\\GridFilterTypeInterface</code>.</p> <p>More information can be found in the Hyva_Admin PHP Classes and Interfaces reference.</p>"},{"location":"api-reference/grid-xml-reference/navigation/filters/filter/index.html#source","title":"source","text":"<p>The <code>source</code> attribute is used to specify a source model class or interface to get the select options for the filter.</p> <p>When a <code>source</code> attribute is present, the column filter will always be rendered as a select filter, regardless of the columns type.</p> <p>The only requirement for the source class is it has a <code>toOptionArray</code> method (all Magento source models have that method). This method has to return the options in the usual Magento format <code>[['value' =&gt; $value, 'label' =&gt; $label], \u2026]</code>.</p> <p>Currently a source model overrides filter options specified in the grid XML, but this behavior is not guaranteed to be stable.</p> <pre><code>&lt;filter column=\"store_id\" source=\"Magento\\Config\\Model\\Config\\Source\\Store\"/&gt;\n</code></pre>"},{"location":"api-reference/grid-xml-reference/navigation/filters/filter/option.html","title":"grid &gt; navigation &gt; filters &gt; filter &gt; option","text":"<p>Filter <code>option</code> elements are for one specific use case:</p> <p>when column values are static and don\u2019t warrant the creation of a whole source model.</p> <p>Also, options support grouping multiple values together.</p> <pre><code>&lt;filter column=\"color\"&gt;\n    &lt;option label=\"reddish\"&gt;\n        &lt;value&gt;16&lt;/value&gt;\n        &lt;value&gt;17&lt;/value&gt;\n        &lt;value&gt;18&lt;/value&gt;\n    &lt;/option&gt;\n    &lt;option label=\"blueish\"&gt;\n        &lt;value&gt;12&lt;/value&gt;\n    &lt;/option&gt;\n    &lt;option label=\"rose\"&gt;\n        &lt;value&gt;100&lt;/value&gt;\n        &lt;value&gt;103&lt;/value&gt;\n    &lt;/option&gt;\n&lt;/filter&gt;\n</code></pre> <p>When filter options are specified, the filter is always rendered as a select input type.</p> <p>For groups of option values, any record with a matching value will be included in the grid data (internally all values of a selected group are added to the <code>SearchCriteria</code> using an <code>OR</code> condition).</p> <p>The above example would render a filter with three options: <code>reddish</code>, <code>blueish</code> and <code>rose</code>.</p> <p>When <code>reddish</code> is selected, any records with the color attribute matching <code>16</code>, <code>17</code> or <code>18</code> would be shown in the grid.</p> <p>The option values don\u2019t have to be integers, string values are valid, too.</p>"},{"location":"api-reference/grid-xml-reference/navigation/pager/index.html","title":"grid &gt; navigation &gt; pager","text":"<p>The pager configuration is used to configure the default page size and the available page size dropdown.</p> <pre><code>&lt;pager enabled=\"true\"&gt;\n    &lt;defaultPageSize&gt;40&lt;/defaultPageSize&gt;\n    &lt;pageSizes&gt;20,40,100&lt;/pageSizes&gt;\n&lt;/pager&gt;\n</code></pre> <p>When the <code>&lt;pager enabled=\"false\"/&gt;</code> attribute is set, the pager will not be rendered.</p> <p>The \u201cReset Filters\u201d button is still shown above the grid (when filters are active), as is the column Display dropdown.</p>"},{"location":"api-reference/grid-xml-reference/navigation/pager/defaultpagesize.html","title":"grid &gt; navigation &gt; pager &gt; defaultPageSize","text":"<p>The default page size specifies the number of records per page to display initially.</p> <p>With no <code>defaultPageSize</code> configuration the default value 20 is used.</p> <pre><code>&lt;defaultPageSize&gt;5&lt;/defaultPageSize&gt;\n</code></pre>"},{"location":"api-reference/grid-xml-reference/navigation/pager/pagesizes.html","title":"grid &gt; navigation &gt; pager &gt; pageSizes","text":"<p>The <code>pageSizes</code> element provides the options for the page size dropdown of a grid.</p> <p>By default the values 10, 20 and 50 are available.</p> <p>These defaults are defined in the class <code>Hyva\\Admin\\ViewModel\\HyvaGrid\\Navigation</code>.</p> <pre><code>&lt;pageSizes&gt;2,5,10&lt;/pageSizes&gt;\n</code></pre>"},{"location":"api-reference/grid-xml-reference/navigation/sorting/index.html","title":"grid &gt; navigation &gt; sorting","text":"<p>The <code>sorting</code> node is used to contain the default sort column and the default sort direction configuration.</p> <pre><code>&lt;sorting&gt;\n    &lt;defaultSortByColumn&gt;created_at&lt;/defaultSortByColumn&gt;\n    &lt;defaultSortDirection&gt;desc&lt;/defaultSortDirection&gt;\n&lt;/sorting&gt;\n</code></pre>"},{"location":"api-reference/grid-xml-reference/navigation/sorting/defaultsortbycolumn.html","title":"grid &gt; navigation &gt; sorting &gt; defaultSortByColumn","text":"<p>The <code>defaultSortByColumn</code> element configures the column to sort grid data by initially.</p> <p>Without a <code>defaultSortByColumn</code> element, no sorting is applied to the grid data by default.</p> <pre><code>&lt;defaultSortByColumn&gt;name&lt;/defaultSortByColumn&gt;\n</code></pre>"},{"location":"api-reference/grid-xml-reference/navigation/sorting/defaultsortdirection.html","title":"grid &gt; navigation &gt; sorting &gt; defaultSortDirection","text":"<p>The <code>defaultSortDirection</code> element specifies the initial sort direction.</p> <pre><code>&lt;defaultSortDirection&gt;desc&lt;/defaultSortDirection&gt;\n</code></pre> <p>Possible values are <code>asc</code> and <code>desc</code>.</p> <p>Without a <code>defaultSortDirection</code> a grid is sorted in ascending order.</p>"},{"location":"api-reference/grid-xml-reference/source/index.html","title":"grid &gt; source","text":"<p>Every grid requires a data source.</p> <p>There are different types of grid data providers.</p> <p>Currently supported data providers are:</p> <ul> <li>repositoryListMethod</li> <li>arrayProvider</li> <li>collection</li> <li>query</li> </ul> <p>More data provider types will be added in future.</p>"},{"location":"api-reference/grid-xml-reference/source/index.html#examples","title":"Examples:","text":"<pre><code>&lt;source&gt;\n    &lt;arrayProvider&gt;Hyva\\AdminTest\\Model\\LogFileListProvider&lt;/arrayProvider&gt;\n&lt;/source&gt;\n</code></pre> <pre><code>&lt;source&gt;\n    &lt;repositoryListMethod&gt;Magento\\Catalog\\Api\\ProductRepositoryInterface::getList&lt;/repositoryListMethod&gt;\n&lt;/source&gt;\n</code></pre> <pre><code>&lt;source&gt;\n    &lt;collection&gt;Magento\\Catalog\\Model\\ResourceModel\\Product\\Collection&lt;/collection&gt;\n&lt;/source&gt;\n</code></pre> <pre><code>&lt;source&gt;\n    &lt;query&gt;\n        &lt;select&gt;\n            &lt;from table=\"sales_order\"/&gt;\n        &lt;/select&gt;\n    &lt;/query&gt;\n&lt;/source&gt;\n</code></pre>"},{"location":"api-reference/grid-xml-reference/source/arrayprovider.html","title":"grid &gt; source &gt; arrayProvider","text":"<p>The <code>arrayProvider</code> node content has to be a fully qualified PHP the class name.</p> <p>The class has to implement the <code>Hyva\\Admin\\Api\\HyvaGridArrayProviderInterface</code> interface.</p> <pre><code>interface HyvaGridArrayProviderInterface\n{\n    /**\n     * @return array[]\n     */\n    public function getHyvaGridData(): array;\n}\n</code></pre> <p>The method returns an array of records. Each record is a sub array that will be rendered as a row in the grid.</p> <p>The columns are determined based on the array keys of the first record.</p>"},{"location":"api-reference/grid-xml-reference/source/arrayprovider.html#example","title":"Example:","text":"<pre><code>&lt;source&gt;\n    &lt;arrayProvider&gt;Hyva\\AdminTest\\Model\\LogFileListProvider&lt;/arrayProvider&gt;\n&lt;/source&gt;\n</code></pre>"},{"location":"api-reference/grid-xml-reference/source/collection.html","title":"grid &gt; source &gt; collection","text":"<p>The <code>collection</code> node content has to be a fully qualified PHP method with a DB collection class name, meaning the collection has to be a child of the class <code>Magento\\Framework\\Data\\Collection\\AbstractDb</code> (probably with some other intermediate classes in between).</p> <p>The collection grid source type uses reflection to determine the fields available on the records.</p> <p>System attributes (a.k.a properties with getter methods) and custom EAV attributes are all displayed as array columns.</p>"},{"location":"api-reference/grid-xml-reference/source/collection.html#example","title":"Example:","text":"<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;grid xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n      xsi:noNamespaceSchemaLocation=\"urn:magento:module:Hyva_Admin:etc/hyva-grid.xsd\"&gt;\n    &lt;source&gt;\n        &lt;collection&gt;Magento\\Customer\\Model\\ResourceModel\\Customer\\Collection&lt;/collection&gt;\n    &lt;/source&gt;\n&lt;/grid&gt;\n</code></pre>"},{"location":"api-reference/grid-xml-reference/source/repositorylistmethod.html","title":"grid &gt; source &gt; repositoryListMethod","text":"<p>The <code>repositoryListMethod</code> node content has to be a fully qualified PHP method with the class name. The method has to take a <code>Magento\\Framework\\Api\\SearchCriteriaInterface</code> as an argument, and return a <code>Magento\\Framework\\Api\\SearchResultsInterface</code> .</p> <p>The method name does not have to be <code>getList</code>, even though that is the most common name for this type of method in Magento.</p> <p>The repository grid source type uses reflection to determine the fields available on the records.</p> <p>System attributes, custom EAV attributes and extension attributes are all displayed as array columns.</p>"},{"location":"api-reference/grid-xml-reference/source/repositorylistmethod.html#example","title":"Example:","text":"<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;grid xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n      xsi:noNamespaceSchemaLocation=\"urn:magento:module:Hyva_Admin:etc/hyva-grid.xsd\"&gt;\n    &lt;source&gt;\n        &lt;repositoryListMethod&gt;Magento\\Catalog\\Api\\ProductRepositoryInterface::getList&lt;/repositoryListMethod&gt;\n    &lt;/source&gt;\n&lt;/grid&gt;\n</code></pre>"},{"location":"api-reference/grid-xml-reference/source/defaultsearchcriteriabindings/index.html","title":"grid &gt; source &gt; defaultSearchCriteriaBindings","text":"<p>The <code>defaultSearchCriteriaBindings</code> is used to specify automatic search criteria filters against application state.</p> <p>Often a grid is embedded in a page with additional data, e.g. on a customer detail page all their pending reviews could be shown, or on a product page I want to show all orders.</p> <p>In a nutshell, there needs to be some default limitation of the displayed data, that is, I want to show the orders related to the current product. This is what <code>defaultSearchCriteriaBindings</code> is for.</p> <p>If multiple default bindings are declared, they all have to match (that is, the filters are combined with <code>AND</code>).  Combining them with <code>OR</code> so that one or more have to match, but not all, is possible by specifying the attribute <code>combineConditionsWith</code>. <pre><code>&lt;defaultSearchCriteriaBindings combineConditionsWith=\"or\"&gt;\n</code></pre></p> <p>The element can contain zero or more <code>&lt;field&gt;</code> nodes.</p>"},{"location":"api-reference/grid-xml-reference/source/defaultsearchcriteriabindings/field.html","title":"grid &gt; source &gt; defaultSearchCriteriaBindings &gt; field","text":"<p>Each <code>field</code> element is used to declare a default automatic binding on the <code>SearchCriteria</code> instance that is used when loading the grid source, against some value in the current Magento state.</p> <p>This is mainly useful for showing grids that are embedded in pages of another entity type, for example all orders of a customer.</p> <pre><code>&lt;source&gt;\n  ...\n  &lt;defaultSearchCriteriaBindings&gt;\n    &lt;field name=\"entity_id\" requestParam=\"id\"&gt;\n    &lt;field name=\"entity_id\" method=\"Magento\\Framework\\App\\RequestInterface::getParam\" param=\"id\"/&gt;\n    &lt;field name=\"store_id\" method=\"Magento\\Store\\Model\\StoreManagerInterface::getStore\" property=\"id\"/&gt;\n    &lt;field name=\"customer_ids\" condition=\"finset\" method=\"Magento\\Customer\\Model\\Session::getCustomerId\"/&gt;\n  &lt;/defaultSearchCriteriaBindings&gt;\n&lt;/source&gt;\n</code></pre> <p>There are several possible attributes:</p>"},{"location":"api-reference/grid-xml-reference/source/defaultsearchcriteriabindings/field.html#name-required","title":"name (required)","text":"<p>The <code>name</code> attribute specifies the field name for the filter.</p>"},{"location":"api-reference/grid-xml-reference/source/defaultsearchcriteriabindings/field.html#requestparam","title":"requestParam","text":"<p>This attribute is used to bind the filter to a request value. This is the most common binding type.</p> <p>It is a shorthand for specifying <code>class=\"Magento\\Framework\\App\\RequestInterface\"</code> and <code>method=\"getParam\"</code> together with a <code>param</code> attribute.</p>"},{"location":"api-reference/grid-xml-reference/source/defaultsearchcriteriabindings/field.html#method","title":"method","text":"<p>The <code>method</code> attribute is used to specify the class and method to call to product the filter value.</p> <pre><code>&lt;field name=\"customer_id\" method=\"Magento\\Customer\\Model\\Session::getCustomerId\"/&gt;\n</code></pre>"},{"location":"api-reference/grid-xml-reference/source/defaultsearchcriteriabindings/field.html#param","title":"param","text":"<p>If the <code>method</code> requires a string parameter to produce the desired value, it can be specified with the <code>param</code> attribute. This is sometimes handy for use with the generic <code>getData($key)</code> method.</p> <pre><code>&lt;field name=\"entity_id\" method=\"Magento\\Framework\\App\\RequestInterface::getParam\" param=\"id\"/&gt;\n</code></pre>"},{"location":"api-reference/grid-xml-reference/source/defaultsearchcriteriabindings/field.html#property","title":"property","text":"<p>Should the method return an array or an object, the property attribute can be used to retrieve a singe value.</p> <pre><code>&lt;field name=\"store_id\" method=\"Magento\\Store\\Model\\StoreManagerInterface::getStore\" property=\"id\"/&gt;\n</code></pre> <p>The way the <code>property</code> is retrieved depends on the type of value the <code>method</code> returns.</p> <p>For objects the code will try to call a matching getter method, will try <code>getData</code>, a public property or <code>ArrayAccess</code>.</p> <p>For arrays it will simply try to use the <code>property</code> as an array index.</p>"},{"location":"api-reference/grid-xml-reference/source/defaultsearchcriteriabindings/field.html#condition","title":"condition","text":"<p>By default search criteria bindings are applied using an equality condition (<code>eq</code>). Using the condition attribute it is possible to use a different condition. Any of the Magento SearchCriteria condition values is allowed:</p> <ul> <li>eq</li> <li>is</li> <li>neq</li> <li>lteq</li> <li>from</li> <li>to</li> <li>gteq</li> <li>moreeq</li> <li>gt</li> <li>lt</li> <li>like</li> <li>nlike</li> <li>in</li> <li>nin</li> <li>notnull</li> <li>null</li> <li>finset</li> </ul>"},{"location":"api-reference/grid-xml-reference/source/processors/index.html","title":"grid &gt; source &gt; processors","text":"<p>The <code>&lt;processors&gt;</code> node contains the list of <code>HyvaGridSourceProcessorInterface</code> class names that should be applied to the grid (in <code>&lt;processor&gt;</code> child nodes).</p> <p>The <code>&lt;processors&gt;</code> element has no arguments.</p> <pre><code>&lt;source&gt;\n    &lt;processors&gt;\n        &lt;processor class=\"Hyva\\AdminTest\\HyvaGridProcessor\\ProductGridQueryProcessor\"/&gt;\n    &lt;/processors&gt;\n&lt;/source&gt;\n</code></pre>"},{"location":"api-reference/grid-xml-reference/source/processors/processor.html","title":"grid &gt; source &gt; processors &gt; processor","text":"<p>The  node defines the class name of HyvaGridSourceProcessorInterface implementations that should be applied to the current grid. <pre><code>&lt;processors&gt;\n    &lt;processor class=\"Hyva\\AdminTest\\HyvaGridProcessor\\ProductGridQueryProcessor\" enabled=\"false\"/&gt;\n&lt;/processors&gt;\n</code></pre>"},{"location":"api-reference/grid-xml-reference/source/processors/processor.html#attributes","title":"Attributes","text":""},{"location":"api-reference/grid-xml-reference/source/processors/processor.html#class-required","title":"class (required)","text":"<p>The <code>class</code> attribute takes the fully qualified class name or the </p> <p><code>Hyva\\Admin\\Api\\HyvaGridSourceProcessorInterface</code> implementation. Often the classes don\u2019t implement the interface directly, but instead extend from <code>Hyva\\Admin\\Model\\GridSource\\AbstractGridSourceProcessor</code>. More information on grid source processors can be found in the grid walkthrough documentation.</p>"},{"location":"api-reference/grid-xml-reference/source/processors/processor.html#enabled","title":"enabled","text":"<p>The optional <code>enabled</code> attribute can be used to disable processors that have been declared in different modules. It\u2019s value defaults to <code>true</code>.</p>"},{"location":"api-reference/grid-xml-reference/source/query/index.html","title":"grid &gt; source &gt; query","text":"<p>The query grid source configuration can be used to display the contents of a database table directly in a grid, without using intermediate PHP classes like an ORM collection or a repository.</p> <p>The minimum configuration requires only a table name, but it is possible to specify the columns to select, use group by, joins and union selects, too.</p> <p>Initial filters can be declared using the <code>defaultSearchCriteriaBindings</code> source configuration.</p>"},{"location":"api-reference/grid-xml-reference/source/query/index.html#attributes","title":"Attributes:","text":"<p>There is one optional attribute:</p> <ul> <li>unionSelectType</li> </ul> <p>The <code>unionSelectType</code> attribute specifies the type of union select to use.</p> <p>If there are no <code>&lt;unionSelect&gt;</code> children the attribute has no effect.</p> <p>A valid value is one of <code>all</code> or <code>distinct</code>. If no union select type is configured, <code>all</code> will be used by default.</p> <p>The <code>&lt;query&gt;</code> element must have one <code>&lt;select&gt;</code> child element and can have zero or more</p> <p><code>&lt;unionSelect&gt;</code> element children.</p>"},{"location":"api-reference/grid-xml-reference/source/query/index.html#example","title":"Example:","text":"<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;grid xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n      xsi:noNamespaceSchemaLocation=\"urn:magento:module:Hyva_Admin:etc/hyva-grid.xsd\"&gt;\n    &lt;source&gt;\n        &lt;query unionSelectType=\"all\"&gt;\n            &lt;select&gt;\n                &lt;from table=\"sales_order\"/&gt;\n                &lt;columns&gt;\n                    &lt;column name=\"status\" as=\"order_status\"/&gt;\n                    &lt;column name=\"state\" as=\"order_state\"/&gt;\n                    &lt;column name=\"created_at\" as=\"latest_order\"/&gt;\n                    &lt;expression as=\"count\"&gt;COUNT(*)&lt;/expression&gt;\n                &lt;/columns&gt;\n                &lt;groupBy&gt;\n                    &lt;column name=\"status\"/&gt;\n                    &lt;column name=\"state\"/&gt;\n                &lt;/groupBy&gt;\n            &lt;/select&gt;\n            &lt;unionSelect&gt;\n                &lt;from table=\"some_other_table_with_4_columns\"&gt;\n            &lt;/unionSelect&gt;\n        &lt;/query&gt;\n    &lt;/source&gt;\n&lt;/grid&gt;\n</code></pre>"},{"location":"api-reference/grid-xml-reference/source/query/unionselect.html","title":"grid &gt; source &gt; query &gt; unionSelect","text":"<p>A query can have zero or more <code>unionSelect</code> children.</p> <p>The unionSelect element has no attributes.</p> <p>It can contain all the configuration from the <code>&lt;select&gt;</code> attribute.</p> <p>The specified select will be combined with the primary select configuration in a union select.</p> <p>The type of the union select (<code>UNION DISTINCT</code> or <code>UNION ALL</code>) can be set with the <code>unionSelectType</code> attribute on the <code>&lt;query&gt;</code> element. If no unionSelectType is configured, the default <code>UNION ALL</code> is used.</p> <p>Please refer to the grid &gt; source &gt; query &gt; select documentation for more information on the allowed children elements.</p>"},{"location":"api-reference/grid-xml-reference/source/query/select/index.html","title":"grid &gt; source &gt; query &gt; select","text":"<p>The <code>&lt;select&gt;</code> element contains the configuration for the main grid query.</p> <p>There is one required child element and three optional children:</p> <ul> <li>from (required)</li> <li>columns</li> <li>join</li> <li>groupBy</li> </ul>"},{"location":"api-reference/grid-xml-reference/source/query/select/index.html#example","title":"Example:","text":"<pre><code>&lt;select&gt;\n    &lt;from table=\"sales_order\"/&gt;\n&lt;/select&gt;\n</code></pre>"},{"location":"api-reference/grid-xml-reference/source/query/select/from.html","title":"grid &gt; source &gt; query &gt; select &gt; from","text":"<p>The <code>&lt;from&gt;</code> element specifies the table to query. It is the only required child of the parent <code>&lt;select&gt;</code> . It has no children.</p>"},{"location":"api-reference/grid-xml-reference/source/query/select/from.html#attributes","title":"Attributes:","text":"<p>The <code>&lt;from&gt;</code> element has a required <code>table</code> attribute an an optional <code>as</code> attribute to specify an alias for the table.</p>"},{"location":"api-reference/grid-xml-reference/source/query/select/from.html#example","title":"Example:","text":"<pre><code>&lt;from table=\"catalog_product_entity\" as=\"main_table\"/&gt;\n</code></pre>"},{"location":"api-reference/grid-xml-reference/source/query/select/groupby.html","title":"grid &gt; source &gt; query &gt; select &gt; groupBy","text":"<p>The <code>&lt;groupBy&gt;</code> element is used to configure the grouping of a query result.</p> <p>It has no attributes and can have zero or more <code>&lt;column&gt;</code> child attributes.</p>"},{"location":"api-reference/grid-xml-reference/source/query/select/groupby.html#example","title":"Example:","text":"<pre><code>&lt;groupBy&gt;\n    &lt;column name=\"status\"/&gt;\n&lt;/groupBy&gt;\n</code></pre>"},{"location":"api-reference/grid-xml-reference/source/query/select/columns/index.html","title":"grid &gt; source &gt; query &gt; select &gt; columns","text":"<p>The <code>&lt;columns&gt;</code> element wraps all the columns to be selected from the table that was specified with the <code>&lt;from&gt;</code> element.</p> <p>It takes zero or more <code>&lt;column&gt;</code> or <code>&lt;expression&gt;</code> child elements.</p> <p>If no <code>&lt;columns&gt;</code> are configured, all columns will be included in the result set (e.g. <code>SELECT * FROM table</code>).</p>"},{"location":"api-reference/grid-xml-reference/source/query/select/columns/index.html#example","title":"Example:","text":"<pre><code>&lt;columns&gt;\n    &lt;column name=\"status\" as=\"order_status\"/&gt;\n    &lt;expression as=\"count\"&gt;COUNT(*)&lt;/expression&gt;\n&lt;/columns&gt;\n</code></pre>"},{"location":"api-reference/grid-xml-reference/source/query/select/columns/column.html","title":"grid &gt; source &gt; query &gt; select &gt; columns &gt; column","text":"<p>The select <code>&lt;column&gt;</code> element is used to add a column of the select table to the query result set.</p>"},{"location":"api-reference/grid-xml-reference/source/query/select/columns/column.html#attributes","title":"Attributes:","text":"<p>There is one required and one optional attribute:</p> <ul> <li>name (required)</li> </ul> <p>The <code>name</code> attribute specifies the column name to include in the result. * as</p> <p>The <code>as</code> attribute specifies the alias to use for the column.</p>"},{"location":"api-reference/grid-xml-reference/source/query/select/columns/column.html#example","title":"Example:","text":"<pre><code>&lt;column name=\"entity_id\" as=\"id\"/&gt;\n</code></pre>"},{"location":"api-reference/grid-xml-reference/source/query/select/columns/expression.html","title":"grid &gt; source &gt; query &gt; select &gt; columns &gt; expression","text":"<p>The <code>&lt;expression&gt;</code> element is used to configure an SQL expression that will be included in the select result.</p> <p>The content of the expression element is not validated. It will be wrapped in a <code>Zend_Db_Expr</code> instance and added to the select instance unmodified.</p>"},{"location":"api-reference/grid-xml-reference/source/query/select/columns/expression.html#attributes","title":"Attributes:","text":"<p>It takes one optional Attribute:</p> <ul> <li>as</li> </ul> <p>The <code>as</code> attribute is used to specify an alias name for the expression column in the result.</p>"},{"location":"api-reference/grid-xml-reference/source/query/select/columns/expression.html#example","title":"Example:","text":"<pre><code>&lt;expression as=\"count\"&gt;COUNT(*)&lt;/expression&gt;\n</code></pre>"},{"location":"api-reference/grid-xml-reference/source/query/select/join/index.html","title":"grid &gt; source &gt; query &gt; select &gt; join","text":"<p>The <code>&lt;join&gt;</code> element is used to configure how to join other tables into the result data set.</p>"},{"location":"api-reference/grid-xml-reference/source/query/select/join/index.html#attributes","title":"Attributes","text":"<p>There are three <code>join</code> attributes:</p> <ul> <li>type</li> </ul> <p>The <code>type</code> attribute is used to specify the type of join. A valid value is one of:</p> <p><code>inner</code>, <code>left</code>, <code>right</code>, <code>full</code>, <code>cross</code> and <code>natural</code>.</p> <p>If no type attribute is present, the default <code>left</code> is used.</p> <ul> <li>table (required)</li> </ul> <p>The <code>table</code> attribute specifies the name of the table to join.</p> <ul> <li>as</li> </ul> <p>The attribute <code>as</code> can be used to specify an alias for the joined table.</p> <p>It has one required <code>&lt;on&gt;</code> child element and one optional <code>&lt;columns&gt;</code> child element.</p>"},{"location":"api-reference/grid-xml-reference/source/query/select/join/index.html#example","title":"Example:","text":"<pre><code>&lt;join type=\"left\" table=\"catalog_product_entity_varchar\" as=\"t_name\"&gt;\n    &lt;on&gt;t_name.entity_id=main_table.entity_id AND attribute_id=47&lt;/on&gt;\n    &lt;columns&gt;\n        &lt;column name=\"value\" as=\"name\"/&gt;\n    &lt;/columns&gt;\n&lt;/join&gt;\n</code></pre>"},{"location":"api-reference/grid-xml-reference/source/query/select/join/columns.html","title":"grid &gt; source &gt; query &gt; select &gt; join &gt; columns","text":"<p>The <code>&lt;columns&gt;</code> element wraps all the columns to be selected from a joined table that was specified with the <code>&lt;join table=\u201d\u2026\u201d&gt;</code> element.</p> <p>It takes zero or more <code>&lt;column&gt;</code> or <code>&lt;expression&gt;</code> child elements.</p> <p>(Note: the <code>&lt;columns&gt;</code> element nested under <code>&lt;join&gt;</code> works the same as the <code>&lt;columns&gt;</code> element that is nested under <code>&lt;select&gt;</code>).</p> <p>If no join <code>&lt;columns&gt;</code> are configured, no columns will be included in the result set from the joined table (this is different from the default <code>&lt;select&gt;</code> columns).</p>"},{"location":"api-reference/grid-xml-reference/source/query/select/join/columns.html#example","title":"Example:","text":"<pre><code>&lt;columns&gt;\n    &lt;column name=\"status\" as=\"order_status\"/&gt;\n    &lt;expression as=\"count\"&gt;COUNT(*)&lt;/expression&gt;\n&lt;/columns&gt;\n</code></pre>"},{"location":"api-reference/grid-xml-reference/source/query/select/join/on.html","title":"grid &gt; source &gt; query &gt; select &gt; join &gt; on","text":"<p>The <code>&lt;on&gt;</code> attribute is a child of the <code>&lt;join&gt;</code> element. It is used to specify the join condition.</p> <p>There are no attributes and no child elements.</p>"},{"location":"api-reference/grid-xml-reference/source/query/select/join/on.html#example","title":"Example:","text":"<pre><code>&lt;on&gt;t_name.entity_id=main_table.entity_id AND attribute_id=47&lt;/on&gt;\n</code></pre>"},{"location":"api-reference/php-classes-and-interfaces/index.html","title":"PHP Classes and Interfaces","text":"<p>The nested documents describe the PHP classes and interfaces you might interact with in some way while using Hyva_Admin.</p> <p>The interfaces intended for implementation can be found in the Hyva_Admin module directory <code>Api/</code>.</p> <p>Chances are you will never need to do this. But if you do, well, you can.</p> <p>Currently these are (in alphabetical order, together with the probability you might want to implement them):</p> <ul> <li><code>Hyva\\Admin\\Api\\DataTypeGuesserInterface</code> (very unlikely)</li> <li><code>Hyva\\Admin\\Api\\DataTypeInterface</code> (very unlikely)</li> <li><code>Hyva\\Admin\\Api\\DataType\\ValueToStringConverterInterface</code> (maybe)</li> <li><code>Hyva\\Admin\\Api\\HyvaGridArrayProviderInterface</code> (likely)</li> <li><code>Hyva\\Admin\\Api\\HyvaGridFilterTypeInterface</code> (unlikely)</li> <li><code>Hyva\\Admin\\Api\\HyvaGridSourceProcessorInterface</code> (unlikely)</li> <li><code>Hyva\\Admin\\Model\\Grid\\ExportType\\AbstractExportType</code> (maybe)</li> <li><code>Hyva\\Admin\\Model\\Grid\\Source\\AbstractGridSourceProcessor</code> (likely)</li> </ul> <p>Each of the above interfaces is document in this section of the API reference.</p> <p>There also are a number of classes and interfaces that are not intended to be implemented, but only to be used, mostly when creating custom cell and filter templates:</p> <p>These mostly are (in alphabetical order):</p> <ul> <li><code>Hyva\\Admin\\Block\\Adminhtml\\HyvaGrid</code> (only when declaring the grid block in layout XML)</li> <li><code>Hyva\\Admin\\ViewModel\\HyvaGrid\\CellInterface</code> (in cell templates)</li> <li><code>Hyva\\Admin\\ViewModel\\HyvaGrid\\ColumnDefinitionInterface</code> (in cell and filter templates)</li> <li><code>Hyva\\Admin\\ViewModel\\HyvaGrid\\GridFilterInterface</code> (in filter templates)</li> </ul> <p>These classes are not documented, however, the only point of contact will be inside of template files.</p> <p>Adding a PHPDoc type hint to the template will allow IDE auto-completion to assist you. Hopefully you will find the method names to be nice and descriptive, and you will always be able to refer to the templates supplied as part of Hyva_Admin as a reference.</p>"},{"location":"api-reference/php-classes-and-interfaces/abstractgridsourceprocessor.html","title":"AbstractGridSourceProcessor","text":"<p>The  <code>Hyva\\Admin\\Model\\GridSource\\AbstractGridSourceProcessor</code> can be extended to allow low level access to the grid source and the grid result.</p> <pre><code>/**\n * Generic parent implementation of HyvaGridSourceProcessorInterface.\n *\n * Extend this class if you don't need both methods in your processor.\n *\n * If extending this class, you don't need to also call this parent class methods.\n */\nabstract class AbstractGridSourceProcessor implements HyvaGridSourceProcessorInterface\n{\n    public function beforeLoad($source, SearchCriteriaInterface $searchCriteria, string $gridName): void\n    {\n\n    }\n\n    public function afterLoad($rawResult, SearchCriteriaInterface $searchCriteria, string $gridName)\n    {\n        return $rawResult;\n    }\n}\n</code></pre> <p>It is enough to implement the <code>HyvaGridSourceProcessorInterface</code> when building custom processors, but if only one of the methods is needed, extending the <code>AbstractGridSourceProcessor</code> will allow overriding only the method that is needed, and using the default null-op implementation for the other.</p> <p>More information on grid source processors can be found in the Grid Walkthrough documentation.</p>"},{"location":"api-reference/php-classes-and-interfaces/datatypeguesserinterface.html","title":"DataTypeGuesserInterface","text":"<p>The <code>DataTypeGuesserInterface</code> is used to determine the column type given a value or a Magento type. The column type in turn is used to figure out how to render a value in a grid.</p>"},{"location":"api-reference/php-classes-and-interfaces/datatypeguesserinterface.html#overview","title":"Overview","text":"<p>Most of the time this interface is not implemented directly, but instead the <code>DataTypeInterface</code> is implemented instead which combines the <code>DataTypeGuesserInterface</code> with the <code>DataTypeValueToStringConverterInterface</code>.</p> <pre><code>&lt;?php declare(strict_types=1);\n\nnamespace HyvaAdminApi;\n\ninterface DataTypeGuesserInterface\n{\n    public function valueToTypeCode($value): ?string;\n\n    public function typeToTypeCode(string $type): ?string;\n}\n</code></pre> <p>All DataTypeGuesser implementations are registered with the <code>DataTypeFacade</code> in the adminhtml <code>di.xml</code> configuration. The order of data type guessers matter - more generic types should come later in the list.</p> <p>Excerpt of the Hyva_Admin <code>etc/adminhtml/di.xml</code> configuration:</p> <pre><code>&lt;type name=\"Hyva\\Admin\\Model\\DataType\\DataTypeFacade\"&gt;\n    &lt;arguments&gt;\n        &lt;argument name=\"dataTypeClassMap\" xsi:type=\"array\"&gt;\n            &lt;item name=\"datetime\" xsi:type=\"string\"&gt;Hyva\\Admin\\Model\\DataType\\DateTimeDataType&lt;/item&gt;\n            &lt;item name=\"magento_product\" xsi:type=\"string\"&gt;Hyva\\Admin\\Model\\DataType\\ProductDataType&lt;/item&gt;\n            ...\n        &lt;/argument&gt;\n    &lt;/arguments&gt;\n&lt;/type&gt;\n</code></pre> <p>Probably you will never need to implement this interface, unless you want to contribute to Hyva_Admin and add support for a standard Magento data type.</p>"},{"location":"api-reference/php-classes-and-interfaces/datatypeguesserinterface.html#interface-methods","title":"Interface Methods","text":""},{"location":"api-reference/php-classes-and-interfaces/datatypeguesserinterface.html#valuetotypecodevalue-string","title":"valueToTypeCode($value): ?string","text":"<p>The method takes a value that could be anything: null, a string, int, object or anything else.</p> <p>If the value is the target type the class can handle, then the method returns an identifying column type code, otherwise it should return <code>null</code>.</p> <p>Example:</p> <pre><code>public function valueToTypeCode($value): ?string\n{\n    return is_object($value) &amp;&amp; $value instanceof AddressInterface\n        ? 'magento_customer_address'\n        : null;\n}\n</code></pre> <p>In this example the method returns the column type <code>magento_customer_address</code> when a customer address instance is used as the input value.</p>"},{"location":"api-reference/php-classes-and-interfaces/datatypeguesserinterface.html#typetotypecodestring-type-string","title":"typeToTypeCode(string $type): ?string","text":"<p>The method takes a Magento internal type identifier. It could be a class or interface name, or an EAV attribute backend type code, or a special case like <code>gallery</code>.</p> <p>If the string <code>$type</code> identifies the target type the class can handle, the method should return an identifying column type code, otherwise it should return <code>null</code>.</p> <p>Example:</p> <pre><code>public function typeToTypeCode(string $type): ?string\n{\n    return is_string($type) &amp;&amp; is_subclass_of($type, AddressInterface::class)\n        ? 'magento_customer_address'\n        : null;\n}\n</code></pre> <p>In this example the method returns the column type <code>magento_customer_address</code> when <code>$type</code> identifies a class implementing the customer address interface.</p>"},{"location":"api-reference/php-classes-and-interfaces/datatypeinterface.html","title":"DataTypeInterface","text":"<p>This interface is used to implement most of the built in Magento data types that Hyva_Admin can automatically determine.</p> <p>It combines the interfaces <code>Hyva\\Admin\\Api\\DataTypeGuesserInterface</code> and <code>Hyva\\Admin\\Api\\DataTypeValueToStringConverterInterface</code> for convenience.</p> <p>All implementations must be registered with the <code>Hyva\\Admin\\Model\\DataType\\DataTypeFacade</code> in the adminhtml <code>di.xml</code> configuration.</p> <p>Excerpt of the Hyva_Admin <code>etc/adminhtml/di.xml</code> configuration:</p> <pre><code>&lt;type name=\"Hyva\\Admin\\Model\\DataType\\DataTypeFacade\"&gt;\n    &lt;arguments&gt;\n        &lt;!-- note: order matters - generic DataTypes (e.g. object, unknown) come after more specific ones --&gt;\n        &lt;argument name=\"dataTypeClassMap\" xsi:type=\"array\"&gt;\n            &lt;item name=\"datetime\" xsi:type=\"string\"&gt;Hyva\\Admin\\Model\\DataType\\DateTimeDataType&lt;/item&gt;\n            ...\n            &lt;item name=\"magento_tier_price\" xsi:type=\"string\"&gt;Hyva\\Admin\\Model\\DataType\\TierPriceDataType&lt;/item&gt;\n            &lt;item name=\"object\" xsi:type=\"string\"&gt;Hyva\\Admin\\Model\\DataType\\GenericObjectDataType&lt;/item&gt;\n            &lt;item name=\"unknown\" xsi:type=\"string\"&gt;Hyva\\Admin\\Model\\DataType\\UnknownDataType&lt;/item&gt;\n        &lt;/argument&gt;\n    &lt;/arguments&gt;\n&lt;/type&gt;\n</code></pre> <p>Please refer to the documentation of the <code>DataTypeGuesserInterface</code> and the <code>DataTypeValueToStringConverterInterface</code> for further information.</p>"},{"location":"api-reference/php-classes-and-interfaces/datatypevaluetostringconverterinterface.html","title":"DataTypeValueToStringConverterInterface","text":"<p>This interface is used to convert a value supplied by Magento to a string rendered in a grid cell.</p>"},{"location":"api-reference/php-classes-and-interfaces/datatypevaluetostringconverterinterface.html#overview","title":"Overview","text":"<p>Whenever you need to render some data type in grids and you don\u2019t want to use a custom template for that purpose, you can choose to implement this interface instead.</p> <pre><code>&lt;?php declare(strict_types=1);\n\nnamespace HyvaAdminApi;\n\ninterface DataTypeValueToStringConverterInterface\n{\n    const UNLIMITED_RECURSION = -1;\n\n    public function toString($value): ?string;\n\n    public function toHtmlRecursive($value, $maxRecursionDepth = self::UNLIMITED_RECURSION): ?string;\n}\n</code></pre> <p>Hyva_Admin uses the column type code to determine the converter to use.</p> <p>The column type code to converter mapping happens in the adminhtml <code>di.xml</code>.</p> <p>Excerpt of the Hyva_Admin <code>etc/adminhtml/di.xml</code> configuration, mapping column types to <code>DataTypeValueToStringConverter</code>:</p> <pre><code>&lt;type name=\"HyvaAdminModelDataTypeDataTypeFacade\"&gt;\n    &lt;arguments&gt;\n        &lt;argument name=\"dataTypeClassMap\" xsi:type=\"array\"&gt;\n            &lt;item name=\"datetime\" xsi:type=\"string\"&gt;Hyva\\Admin\\Model\\Data\\TypeDate\\TimeDataType&lt;/item&gt;\n            &lt;item name=\"price\" xsi:type=\"string\"&gt;Hyva\\Admin\\Model\\DataType\\PriceDataType&lt;/item&gt;\n            ...\n        &lt;/argument&gt;\n    &lt;/arguments&gt;\n&lt;/type&gt;\n</code></pre> <p>The array keys are the column data type codes, the values are the converter class names.</p> <p>A column type code might be automatically determined by a <code>DataTypeGuesser</code>, or it could be set explicitly in the grid configuration XML:</p> <pre><code>&lt;column name=\"price\" type=\"price\"/&gt;\n</code></pre> <p>When a cell is rendered, the method <code>toString</code> is used by default. Only if the column property <code>renderAsUnsecureHtml=\"true\"</code> is set for a column, the method <code>toHtmlRecursive</code> is used to stringify a value.</p>"},{"location":"api-reference/php-classes-and-interfaces/datatypevaluetostringconverterinterface.html#interface-methods","title":"Interface Methods","text":""},{"location":"api-reference/php-classes-and-interfaces/datatypevaluetostringconverterinterface.html#tostringvalue-string","title":"toString($value): ?string","text":"<p>The method takes a value and - if it matches the type supported by the converter - returns a string representation. If the type doesn\u2019t match for some reason, the converter should return null. An appropriate exception will be thrown elsewhere.</p> <p>The returned string should be a plain text representation and not handle HTML related logic.</p> <p>For example, an image property might be rendered as an image URL, rather than an <code>&lt;img&gt;</code> HTML element.</p> <p>Example:</p> <pre><code>public function toString($value): ?string\n{\n    return $this-&gt;canProcess($value)\n        ? $this-&gt;dateTimeFormatter-&gt;formatObject(newDateTimeImmutable($value))\n        : null;\n}\n</code></pre>"},{"location":"api-reference/php-classes-and-interfaces/datatypevaluetostringconverterinterface.html#tohtmlrecursivevalue-maxrecursiondepth-1-string","title":"toHtmlRecursive($value, $maxRecursionDepth = -1): ?string","text":"<p>This method is used to convert a supported value to a HTML representation.</p> <p>If a recursion doesn\u2019t make sense for a given value, it\u2019s okay to just return a string without recursing. The only data type where recursion is currently used is <code>array</code>.</p> <p>In many cases the string and the HTML representation of a value are the same. In such cases <code>toHtmlRecursive</code> can directly delegate to <code>toString</code>.</p> <p>Example:</p> <pre><code>public function toHtmlRecursive(\n    $value,\n    $maxRecursionDepth = self::UNLIMITED_RECURSION\n): ?string {\n    return $this-&gt;canProcess($value)\n        ? sprintf('&lt;img src=\"%s\"/&gt;', $this-&gt;getImageUrl($value))\n        : null;\n}\n</code></pre>"},{"location":"api-reference/php-classes-and-interfaces/grid-abstractexporttype.html","title":"Grid AbstractExportType","text":"<p><code>Hyva\\Admin\\Model\\GridExport\\Type\\AbstractExportType</code> is the base class for all grid export format implementations.</p> <p>At the time of writing, there are three built in export types:</p> <ul> <li>CSV - <code>Hyva\\Admin\\Model\\GridExport\\Type\\Csv</code></li> <li>XML - <code>Hyva\\Admin\\Model\\GridExport\\Type\\Xml</code></li> <li>XLSX - <code>Hyva\\Admin\\Model\\GridExport\\Type\\Xlsx</code></li> </ul> <p>Custom export types can be created by extending the <code>AbstractExportType</code> and setting the <code>class</code> attribute on the grid XML export configuration.</p> <p>Alternatively, the mapping from export type code to class can be extended via <code>di.xml</code> like the default types.</p> <pre><code>&lt;type name=\"Hyva\\Admin\\Model\\GridExport\\GridExportTypeLocator\"&gt;\n    &lt;arguments&gt;\n        &lt;argument name=\"gridExportTypes\" xsi:type=\"array\"&gt;\n            &lt;item name=\"csv\" xsi:type=\"string\"&gt;Hyva\\Admin\\Model\\GridExport\\Type\\Csv&lt;/item&gt;\n            &lt;item name=\"xml\" xsi:type=\"string\"&gt;Hyva\\Admin\\Model\\GridExport\\Type\\Xml&lt;/item&gt;\n            &lt;item name=\"xlsx\" xsi:type=\"string\"&gt;Hyva\\Admin\\Model\\GridExport\\Type\\Xlsx&lt;/item&gt;\n        &lt;/argument&gt;\n    &lt;/arguments&gt;\n&lt;/type&gt;\n</code></pre> <p>In this case no <code>class</code> attribute needs to be specified in the grid export configuration.</p>"},{"location":"api-reference/php-classes-and-interfaces/grid-abstractexporttype.html#abstract-methods","title":"Abstract methods:","text":""},{"location":"api-reference/php-classes-and-interfaces/grid-abstractexporttype.html#public-function-createfiletodownload-void","title":"public function createFileToDownload(): void","text":"<p>When called this method should create the file to be exported on the filesystem with the export data.</p> <p>The file will automatically be deleted after the contents are sent to the browser.</p> <p>The CSV export class can serve as a simple implementation reference:</p> <pre><code>public function createFileToDownload(): void\n{\n    $file      = $this-&gt;getFileName();\n    $directory = $this-&gt;filesystem-&gt;getDirectoryWrite($this-&gt;getExportDir());\n    $stream    = $directory-&gt;openFile($file, 'w+');\n    $stream-&gt;lock();\n    $stream-&gt;writeCsv($this-&gt;getHeaderData());\n    foreach ($this-&gt;iterateGrid() as $row) {\n        $stream-&gt;writeCsv(map(function (CellInterface $cell): string {\n            return $cell-&gt;getTextValue();\n        }, $row-&gt;getCells()));\n    }\n    $stream-&gt;unlock();\n    $stream-&gt;close();\n}\n</code></pre>"},{"location":"api-reference/php-classes-and-interfaces/grid-abstractexporttype.html#parent-class-methods","title":"Parent class methods:","text":"<p>There are a number of methods provided by the abstract parent class that are helpful during the export file generation.</p> <p>These methods are generally not intended to be overridden in the export implementation even though they are not declared as final.</p>"},{"location":"api-reference/php-classes-and-interfaces/grid-abstractexporttype.html#public-function-getfilename-string","title":"public function getFileName(): string","text":"<p>This method returns the name to use for the export file within the Magento var/ directory.</p> <p>If a file name is configured in the grid export configuration, that will be used. Otherwise the grid name with the export type code as a file name suffix will be used as a default.</p>"},{"location":"api-reference/php-classes-and-interfaces/grid-abstractexporttype.html#public-function-getcontenttype-string","title":"public function getContentType(): string","text":"<p>This method is used by the download controller to determine the HTTP response content type header value. The content type defaults to  <code>application/octet-stream</code>, which triggers a file save dialog in browsers.</p> <p>Usually the content type does not need to be changed for export type implementations.</p>"},{"location":"api-reference/php-classes-and-interfaces/grid-abstractexporttype.html#public-function-getexportdir-string","title":"public function getExportDir(): string","text":"<p>This method returns the code for the Magento directory in which the file name returned by <code>getFileName()</code> return value is created. It defaults to the Magento var/ directory, which should be fine for almost all cases.</p> <p>(See <code>Magento\\Framework\\App\\Filesystem\\DirectoryList</code> for a list of all Magento directory codes.</p>"},{"location":"api-reference/php-classes-and-interfaces/grid-abstractexporttype.html#protected-function-getgrid-hyvagridexportinterface","title":"protected function getGrid(): HyvaGridExportInterface","text":"<p>This method can be used to retrieve the instance of the grid that is being exported.</p> <p>For example, this could potentially be useful to get the grid name <code>$this-&gt;getGrid()-&gt;getGridName()</code>.</p>"},{"location":"api-reference/php-classes-and-interfaces/grid-abstractexporttype.html#protected-function-getheaderdata-array","title":"protected function getHeaderData(): array","text":"<p>This method can  be used by export implementations to fetch the column names of the grid as an array.</p>"},{"location":"api-reference/php-classes-and-interfaces/grid-abstractexporttype.html#protected-function-iterategriditerator","title":"protected function iterateGrid():Iterator","text":"<p>This method returns an iterator over all grid rows. The grid data will be loaded in batches of 200 rows at a time as to not exhaust memory.</p>"},{"location":"api-reference/php-classes-and-interfaces/hyvagridarrayproviderinterface.html","title":"HyvaGridArrayProviderInterface","text":"<p>The HyvaGridArrayProviderInterface is used for creating simple grid data providers.</p>"},{"location":"api-reference/php-classes-and-interfaces/hyvagridarrayproviderinterface.html#overview","title":"Overview","text":"<p>Often creating a repository is overkill when a simple list of things should be displayed in the admin.</p> <p>This is where the array grid providers shine.</p> <pre><code>&lt;?php declare(strict_types=1);\n\nnamespace HyvaAdminApi;\n\n/**\n * Implement this interface and specify that class as an array source type for a hyva grid.\n * Return an array with one sub-array for each row of the grid.\n */\ninterface HyvaGridArrayProviderInterface\n{\n    /**\n     * @return array[]\n     */\n    public function getHyvaGridData(): array;\n}\n</code></pre> <p>A array provider implementations are then configured as source of a grid in the grid XML:</p> <pre><code>&lt;source&gt;\n    &lt;arrayProvider&gt;Hyva\\AdminTest\\Model\\LogFileListProvider&lt;/arrayProvider&gt;\n&lt;/source&gt;\n</code></pre> <p>It is super simple to create array grid data providers.</p> <p>There are some helpful methods to covert things into arrays in the Magento framework, for example <code>Magento\\Framework\\Reflection\\DataObjectProcessor::buildOutputDataArray</code>. They can be useful sometimes, but of course anything can be used as long as the interface contract is fulfilled.</p>"},{"location":"api-reference/php-classes-and-interfaces/hyvagridarrayproviderinterface.html#interface-methods","title":"Interface Methods","text":""},{"location":"api-reference/php-classes-and-interfaces/hyvagridarrayproviderinterface.html#gethyvagriddata-array","title":"getHyvaGridData(): array","text":"<p>The interface only has a single method. It returns an array of arrays.</p> <p>Each sub-array, or record, is a row in the grid.</p> <p>Here is a simplified example to clarify the return array structure:</p> <pre><code>public function getHyvaGridData(): array\n{\n    return [\n        ['col-A' =&gt; 'the first value', 'col-B' =&gt; 'another value'],\n        ['col-A' =&gt; 'more data',       'col-B' =&gt; 'even more data'],\n        ...\n    ];\n}\n</code></pre> <p>The array keys of the first record are used to determine the columns for the grid.</p> <p>Example grid array provider that lists all files in the Magento <code>var/log/</code> directory:</p> <pre><code>&lt;?php declare(strict_types=1);\n\nnamespace HyvaAdminTestModel;\n\nuse Hyva\\Admin\\Api\\HyvaGridArrayProviderInterface;\nuse Magento\\Framework\\App\\Filesystem\\DirectoryList;\nuse Magento\\Framework\\Filesystem\\Io\\FileFactory;\n\nclass LogFileListProvider implements HyvaGridArrayProviderInterface\n{\n    private DirectoryList $directoryList;\n\n    private FileFactory $fileFactory;\n\n    public function __construct(DirectoryList $directoryList, FileFactory $fileFactory)\n    {\n        $this-&gt;directoryList = $directoryList;\n        $this-&gt;fileFactory = $fileFactory;\n    }\n\n    public function getHyvaGridData(): array\n    {\n        $file = $this-&gt;fileFactory-&gt;create();\n        $file-&gt;cd($this-&gt;directoryList-&gt;getPath(DirectoryList::LOG));\n\n        return $file-&gt;ls();\n    }\n}\n</code></pre>"},{"location":"api-reference/php-classes-and-interfaces/hyvagridcollectionprocessorinterface.html","title":"HyvaGridCollectionProcessorInterface","text":"<p>This interface extends the regular <code>HyvaGridSourceProcessorInterface</code>. It provides an <code>afterInitSelect</code> callback that is only applicable to collection grid sources.</p> <pre><code>public function afterInitSelect(MagentoFrameworkDataCollectionAbstractDb $source,\n    string $gridName\n): void;\n</code></pre> <p>This callback is triggered every time the collection grid source is instantiated, before the search criteria is applied. It is intended to allow joining additional fields that will then be available as grid columns.</p> <p>These fields then will be available as grid columns.</p> <p>To use it, configure a grid source processor as usual and implement the interface in addition to extending the processor from <code>Hyva\\Admin\\Model\\GridSource\\AbstractGridSourceProcessor</code>.</p>"},{"location":"api-reference/php-classes-and-interfaces/hyvagridcollectionprocessorinterface.html#example","title":"Example:","text":"<p>This is an example collection grid source processor as declared in an integration test:</p> <pre><code>new class() extends AbstractGridSourceProcessor implements HyvaGridCollectionProcessorInterface {\n\n    public function afterInitSelect(AbstractDbCollection $source, string $gridName): void\n    {\n        $select = $source-&gt;getSelect();\n\n        // select expression\n        $select-&gt;columns(['foo' =&gt; newZend_Db_Expr('foo')]);\n\n        // select field from joined table\n        $source-&gt;getSelect()-&gt;joinLeft(\n            'catalog_category_product',\n            'e.entity_id = catalog_category_product.product_id',\n            ['test_field' =&gt; 'catalog_category_product.entity_id']\n        );\n    }\n};\n</code></pre>"},{"location":"api-reference/php-classes-and-interfaces/hyvagridfiltertypeinterface.html","title":"HyvaGridFilterTypeInterface","text":"<p>Filter types are responsible for supplying the filter renderer block and for applying the posted values to a <code>SearchCriteria</code> instance.</p>"},{"location":"api-reference/php-classes-and-interfaces/hyvagridfiltertypeinterface.html#overview","title":"Overview","text":"<p>There are a number of filter types in Hyva_Admin out of the box:</p> <ul> <li>boolean</li> <li>date-range</li> <li>select</li> <li>text</li> <li>value-range</li> </ul> <p>Chances are these are all you will ever need. But if there is a column data type that doesn\u2019t match any of these, then you can implement a custom filter type by implementing this interface.</p> <pre><code>&lt;?php declare(strict_types=1);\n\nnamespace HyvaAdminApi;\n\nuse Hyva\\Admin\\ViewModel\\HyvaGrid\\ColumnDefinitionInterface;\nuse Hyva\\Admin\\ViewModel\\HyvaGrid\\GridFilterInterface;\nuse Magento\\Framework\\Api\\SearchCriteriaBuilder;\nuse Magento\\Framework\\View\\Element\\Template;\n\ninterface HyvaGridFilterTypeInterface\n{\n    public function getRenderer(ColumnDefinitionInterface $columnDefinition): Template;\n\n    public function apply(\n        SearchCriteriaBuilder $searchCriteriaBuilder,\n        GridFilterInterface $gridFilter,\n        $filterValue\n    ): void;\n}\n</code></pre> <p>The custom filter type then is used by specifying it in the grid configuration:</p> <pre><code>&lt;navigation&gt;\n    &lt;filters&gt;\n        &lt;filter column=\"some_column\" filterType=\"MyCustomGridFilterType\"/&gt;\n    &lt;/filters&gt;\n&lt;/navigation&gt;\n</code></pre>"},{"location":"api-reference/php-classes-and-interfaces/hyvagridfiltertypeinterface.html#interface-methods","title":"Interface Methods","text":""},{"location":"api-reference/php-classes-and-interfaces/hyvagridfiltertypeinterface.html#getrenderercolumndefinitioninterface-columndefinition-template","title":"getRenderer(ColumnDefinitionInterface $columnDefinition): Template","text":"<p>This method returns the template block instance that will be used to render the filter above the column.</p> <p>The <code>Hyva\\Admin\\ViewModel\\HyvaGrid\\GridFilterInterface</code> instance that is currently being rendered will automatically be set on the template block in the variable <code>$filter</code> before the blocks <code>toHtml()</code> method is called.</p> <p>Example:</p> <pre><code>public function getRenderer(ColumnDefinitionInterface $columnDefinition): Template\n{\n    /** @var Template $templateBlock */\n    $templateBlock = $this-&gt;layout-&gt;createBlock(Template::class);\n    $templateBlock-&gt;setTemplate('Hyva_Admin::grid/filter/date-range.phtml');\n\n    return $templateBlock;\n}\n</code></pre> <p>If a template is specified in the filter configuration XML in addition to a custom filter type, then the template will be set on the the renderer, overwriting any template that might already be set in the getRenderer method.</p>"},{"location":"api-reference/php-classes-and-interfaces/hyvagridfiltertypeinterface.html#applysearchcriteriabuilder-gridfilter-filtervalue-void","title":"apply($searchCriteriaBuilder, $gridFilter, $filterValue): void","text":"<p>The purpose of the <code>apply</code> method is to set filter values that where specified in the admin UI on a <code>SearchCriteriaBuilder</code> instance.</p> <p>The full method signature is too long to fit into the title above, so here it is again in all it\u2019s glory:</p> <pre><code>public function apply(\n    SearchCriteriaBuilder $searchCriteriaBuilder,\n    GridFilterInterface $gridFilter,\n    $filterValue\n): void;\n</code></pre> <p>The first argument is the <code>$searchCriteriaBuilder</code> instance that is meant to receive the filter settings in the apply method.</p> <p>The second argument is the GridFilterInterface instance containing the column definition.</p> <p>The posted filter value is passed as the third argument, <code>$filterValue</code>.</p> <p>Here is an example taken from the value-range filter type:</p> <pre><code>public function apply(\n    SearchCriteriaBuilder $searchCriteriaBuilder,\n    GridFilterInterface $gridFilter,\n    $filterValue\n): void {\n    $key = $gridFilter-&gt;getColumnDefinition()-&gt;getKey();\n    if ($this-&gt;isValue($from = $filterValue['from'] ?? '')) {\n        $searchCriteriaBuilder-&gt;addFilter($key, $from, 'gteq');\n    }\n    if ($this-&gt;isValue($to = $filterValue['to'] ?? '')) {\n        $searchCriteriaBuilder-&gt;addFilter($key, $to, 'lteq');\n    }\n}\n\nprivate function isValue($value): bool\n{\n    return isset($value) &amp;&amp; '' !== $value;\n}\n</code></pre>"},{"location":"api-reference/php-classes-and-interfaces/hyvagridsourceprocessorinterface.html","title":"HyvaGridSourceProcessorInterface","text":"<p>This interface is implemented by all grid source processors.</p> <p>Grid source processors are an advanced tool that is only rarely needed.</p> <pre><code>/**\n * Implement this interface in your module and configure it on a grid:\n *\n * &lt;grid&gt;\n *   &lt;source&gt;\n *     ... other source config ...\n *     &lt;processors&gt;\n *       &lt;processor class=\"Your\\Module\\HyvaGridProcessor\\MyGridQueryProcessor\"/&gt;\n *     &lt;/processors&gt;\n *   &lt;/source&gt;\n * &lt;/grid&gt;\n */\ninterface HyvaGridSourceProcessorInterface\n{\n    /**\n     * Provides the ability to mutate the grid $source before the grid data is loaded.\n     *\n     * The search criteria will already have been applied (if applicable for a given source type).\n     * Do not mutate $searchCriteria since that will cause multiple loads (it's signature changes,\n     * seeHyvaAdminModelGridSourceSearchCriteriaIdentity).\n     *\n     * The type of $source is grid configuration dependent (it might be a Select instance, or a\n     * collection, or a repository, ...).\n     *\n     * @param mixed $source\n     * @param SearchCriteriaInterface $searchCriteria\n     * @param string $gridName\n     */\n    public function beforeLoad($source, SearchCriteriaInterface $searchCriteria, string $gridName): void;\n\n    /**\n     * Provides the ability to change the raw grid result after it is loaded.\n     *\n     * The method must return the new result or null. The $result type depends on the grid configuration.\n     * If null is returned, the result value from before afterLoad is used.\n     *\n     * Do not mutate $searchCriteria since that will cause multiple loads (because )it's signature change,\n     * see note on beforeLoad above).\n     *\n     * @param mixed $rawResult\n     * @param SearchCriteriaInterface $searchCriteria\n     * @param string $gridName\n     * @return mixed\n     */\n    public function afterLoad($rawResult, SearchCriteriaInterface $searchCriteria, string $gridName);\n}\n</code></pre> <p>If you require only one of the two methods, consider extending your processor from the <code>AbstractGridSourceProcessor</code>, which provides a null-op implementation of the interface, and override only the method you need.</p>"},{"location":"guides/installation.html","title":"Installation","text":""},{"location":"guides/installation.html#requirements","title":"Requirements","text":"<ul> <li>Magento 2.4.0 CE (the <code>$escaper</code> variable needs to be declared in templates)</li> <li>PHP &gt;= 7.3</li> <li>Access to the Hyv\u00e4 repository</li> </ul>"},{"location":"guides/installation.html#getting-started","title":"Getting Started","text":"<p>The module can be installed via composer by adding the repository as a source and then requiring it:</p> <pre><code>composer require hyva-themes/module-magento2-admin\n</code></pre> <p>If you want to just play around to get a feel for Hyva_Admin grids, you can install a test module that declares an example grid, too:</p> <pre><code>composer require hyva-themes/module-magento2-admin-test\n</code></pre> <p>Note: development of the module uses PHP 7.4, but the releases are based on a branch that is automatically backported, thanks to rector.</p>"},{"location":"guides/installation.html#stability","title":"Stability","text":"<p>The API will remain stable, unless some real flaw is discovered.</p> <p>New features will be added in a backward compatible manner.</p>"},{"location":"guides/design-docs/index.html","title":"5. Deep Docs","text":"<p>This section contains design documents and more detailed information, mostly useful for building custom column types and filters.</p> <p>This information is not required knowledge in order to use Hyv\u00e4 Admin Grids.</p>"},{"location":"guides/design-docs/design-principles.html","title":"Design Principles","text":"<p>The purpose of Hyva_Admin is to empower developers to get work done efficiently and allow them to enjoy their work.</p> <p>The module seeks to fulfill this purpose by using the following principles to guide development:</p> <ul> <li>Use defaults that allow accomplishing tasks with as little code as possible (good enough for 80% of all use cases).</li> <li>Create a system that leverages IDE/editor support as much as possible.</li> <li>Use existing, well understood technology like Layout XML, Blocks, XML merging, .phtml templates.</li> <li>Add extensibility for use cases that are understood without compromising usability (do not requires developers to create lots of code for simple use cases).</li> <li>Long Term Backward Compatibility: once an API aspect is released as stable it never changes. Only new features are added in a backward compatible manner.</li> <li>Make using Hyva_Admin fun.</li> </ul>"},{"location":"guides/design-docs/filtering-extension-attribute-columns.html","title":"Filtering Extension Attribute Columns","text":"<p>By default no columns have filters.</p> <p>To enable filtering for a column, add a grid &gt; navigation &gt; filters &gt; filter element to the grid definition.</p> <p>The type of filter depends on the column type.</p> <p>More information on this can be found in the filter node documentation in the Grid XML API reference.</p> <p>Here I want to note some thoughts on applying custom filter types, for example to allow filtering columns containing extension attributes.</p> <p>The repository grid provider type dispatches an event <code>hyva_grid_source_prefetch_</code> + grid-name whenever grid data is about to be loaded. (Non-alphanumeric characters in the grid name like <code>-</code> are turned into underscores so the event name is valid in Magento <code>events.xml</code> files).</p> <p>This is the code in the <code>RepositoryGridSourceType</code> class that dispatches the event:</p> <pre><code>private function dispatchEvent(\n    string $gridName,\n    string $recordType,\n    SearchCriteriaInterface $searchCriteria\n): SearchCriteriaInterface {\n    $eventName = 'hyva_grid_source_prefetch_' . $this-&gt;getGridNameEventSuffix($gridName):\n    $container = new SearchCriteriaEventContainer($searchCriteria);\n    $this-&gt;eventManager-&gt;dispatch($eventName, [\n        'search_criteria_container' =&gt; $container,\n        'grid_name'                 =&gt; $gridName,\n        'record_type'               =&gt; $recordType\n    ]);\n\n    return $container-&gt;getSearchCriteria();\n}\n</code></pre> <p>Event observers can modify or replace the search criteria, or they can also remember the search criteria values and apply the appropriate values when an extension attribute is loaded after the main record data.</p> <p>This event may also be used to do other modifications to the <code>SearchCriteria</code>, for example mapping attribute codes to internal column names.</p>"},{"location":"guides/design-docs/hyva-admin-forms-wip.html","title":"Hyva Admin Forms (WIP)","text":"<p>At the moment this document is just a brain dump of my thoughts on this topic to lead into some kind of collaboration.</p> <p>This page has been replaced by two github issues:</p> <p>More up-to-date information can be found in this github issue:</p> <p>https://github.com/hyva-themes/magento2-hyva-admin/issues/27</p> <p>The current state of the implementation is recorded here:</p> <p>https://github.com/hyva-themes/magento2-hyva-admin/issues/36</p>"},{"location":"guides/design-docs/rationale.html","title":"Rationale","text":"<p>When using the Magento 2 UI Components to create admin grids and forms, I always felt like I was dying a bit inside. From my point of view it's an awful system for a number of reasons that I don't want to go into more details about now.</p> <p>Alternative store fronts that do not use UI components (PWA Studio, Hyv\u00e4 Themes) are great for frontend developers, but (un?)fortunately I do mostly backend work.</p> <p>The UI interfaces I create are mainly for store owners and admins.</p> <p>I desire a way to do my job (which includes building grids and forms) that doesn't feel like I have to fight the framework. Instead, I want to feel empowered and get work done quickly and efficiently.</p> <p>After years of bitching about Magento, I was very impressed by the work Willem Wigman did with the Hyv\u00e4 frontend theme. He inspired me to stop complaining and also take matters into my own hands, and finally build the tools I desire. Hence, Hyva_Admin.</p>"},{"location":"guides/design-docs/sorting-columns.html","title":"Sorting Columns","text":"<p>As a default, all columns are sortable when possible.</p> <p>If you don\u2019t want a column to be sortable, add a <code>sortable=\"false\"</code> attribute to the column configuration.</p> <p>The question is, when can a column not be sorted?</p> <p>It depends on the grid data provider. For array providers, all columns are sortable, because the sorting is applied to the grid data by the Hyva_Admin module itself.</p> <p>For Repository grid data providers (and in future Collection and Query), the sorting is applied by the repository itself, when the search criteria is mapped to the underlying ORM collection.</p> <p>For columns that are loaded loaded as part of the main query, that works very well.</p> <p>However, if a column value is loaded in a separate query, the sorting can\u2019t be applied.</p> <p>For this reason, Hyva_Admin sets the sortable property on columns to false automatically in the following cases:</p> <ul> <li>For columns containing an extension attribute value</li> <li>For product category IDs</li> <li>For the product media gallery</li> </ul> <p>More special cases might exist that I haven\u2019t encountered yet. In such cases you will see an exception when trying to sort by a non-existent column, or maybe sorting will simply not do anything, depending on the source repository implementation.</p> <p>If you want to enable sorting by such fields, you can override that default sortable value in the column XML definition by setting <code>sortable=\"true\"</code>, and implement a plugin to apply the sorting after the data has been loaded by the repository.</p>"},{"location":"guides/hyva-admin-grid-walkthrough/buttons.html","title":"Buttons","text":"<p>Buttons that should be rendered above the grid can be declared as part of the navigation:</p> <pre><code>&lt;navigation&gt;\n    &lt;buttons&gt;\n        &lt;button id=\"add\" label=\"Add\" url=\"*/*/add\"/&gt;\n        &lt;button id=\"refresh\" label=\"Refresh Page\" onclick=\"window.location.reload(true)\" sortOrder=\"-1\"/&gt;\n    &lt;/buttons&gt;\n&lt;/navigation&gt;\n</code></pre> <p>Buttons can use either an <code>url</code> or an <code>onclick</code> attribute to specify their effect.</p> <p>Please refer to the Grid XML API Reference for more information.</p>"},{"location":"guides/hyva-admin-grid-walkthrough/configuring-columns.html","title":"Configuring Columns","text":"<p>Hyva_Admin tries to extract the available columns from the grid source.</p> <p>Without any configuration, all columns are shown in an order determined by the source type.</p> <p>In some cases this already will be good enough, but often you will need to tweak which columns are displayed, the ordering of columns or how column data is rendered.</p> <p>This is done in the <code>&lt;columns&gt;</code> grid XML section.</p> <p>To specify which columns to display, use the <code>&lt;columns&gt;&lt;include/&gt;&lt;/columns&gt;</code> branch.</p> <p>For example, to display only <code>id</code>, <code>sku</code> and <code>name columns</code>, in that order, configure:</p> <pre><code>&lt;columns&gt;\n    &lt;include&gt;\n        &lt;column name=\"id\"/&gt;\n        &lt;column name=\"sku\"/&gt;\n        &lt;column name=\"name\"/&gt;\n    &lt;/include&gt;\n&lt;/columns&gt;\n</code></pre> <p>Once include columns are configured, all other available columns are no longer displayed.</p> <p>To hide columns, use the <code>&lt;columns&gt;&lt;exclude/&gt;&lt;columns&gt;</code> branch.</p> <p>Say you would like to display all columns except the <code>category_gear</code> column, this configuration would do the trick:</p> <pre><code>&lt;columns&gt;\n    &lt;exclude&gt;\n        &lt;column name=\"category_gear\"/&gt;\n    &lt;/exclude&gt;\n&lt;/columns&gt;\n</code></pre> <p>There are many attributes that can be specified on include columns.</p> <p>They are (in alphabetical order):</p> <ul> <li>initiallyHidden</li> <li>label</li> <li>name</li> <li>renderAsUnsecureHtml</li> <li>rendererBlockName</li> <li>sortable</li> <li>sortOrder</li> <li>source</li> <li>template</li> <li>type</li> </ul> <p>For more information on the attributes, I suggest you inspect the auto-completion offered by your editor, or have a look at the Grid XML API reference (or read the schema XSD file).</p>"},{"location":"guides/hyva-admin-grid-walkthrough/configuring-mass-actions.html","title":"Configuring Mass Actions","text":"<p>Mass actions allow users to select multiple records on a grid and submit all selected IDs to a controller at once.</p> <p>The mass action can be selected with a select input above the grid.</p> <pre><code>&lt;massActions idColumn=\"id\"&gt;\n    &lt;action id=\"reindex\" label=\"Reindex\" url=\"*/massAction/reindex\"/&gt;\n    &lt;action id=\"delete\" label=\"Delete\" url=\"*/massAction/delete\" requireConfirmation=\"true\"/&gt;\n&lt;/massActions&gt;\n</code></pre> <p>When one or more mass actions are configured, a column with a checkbox is rendered on the left side of the grid for each row.</p> <p>For more details on mass actions and available attributes, please check out the massActions Grid XML api reference.</p>"},{"location":"guides/hyva-admin-grid-walkthrough/configuring-row-actions.html","title":"Configuring Row Actions","text":"<p>Each row can have zero or more actions.</p> <p>Actions are configured in an <code>&lt;actions&gt;</code> element.</p> <pre><code>&lt;actions idColumn=\"id\"&gt;\n    &lt;action id=\"edit\" label=\"Edit\" url=\"*/*/edit\"/&gt;\n    &lt;action id=\"delete\" label=\"Delete\" url=\"*/*/delete\"/&gt;\n&lt;/actions&gt;\n</code></pre> <p>Each action is rendered as a link in a special actions column on the right side of the grid. The actions column is only present if there is at least one action.</p> <p>The url format uses the Magento route syntax, where a <code>*</code> means the current route id or action path, depending on its position.</p> <p>To make grid rows clickable, an action can be assigned as the default action by setting the action <code>id</code> as the <code>rowAction</code> attribute on the <code>columns</code> element:</p> <pre><code>&lt;columns rowAction=\"edit\"&gt;\n    &lt;include&gt;\n       ...\n    &lt;/include&gt;\n&lt;/columns&gt;\n</code></pre> <p>For more information on the available attributes please head over to the action element Grid XML API reference.</p>"},{"location":"guides/hyva-admin-grid-walkthrough/declaring-source-search-bindings.html","title":"Declaring source search bindings","text":"<p>Sometimes we might want to show a data related to some other entity in a grid.</p> <p>For example, all orders or a customer. This can be achieved with a <code>defaultSearchCriteriaBindings</code> declaration.</p> <p>Take the the following example:</p> <pre><code>&lt;source&gt;\n    &lt;repositoryListMethod&gt;Magento\\Sales\\Api\\OrderRepositoryInterface::getList&lt;/repositoryListMethod&gt;\n    &lt;defaultSearchCriteriaBindings&gt;\n        &lt;field name=\"customer_id\" requestParam=\"id\"/&gt;\n    &lt;/defaultSearchCriteriaBindings&gt;\n&lt;/source&gt;\n</code></pre> <p>This example shows only orders in the grid, where the order\u2019s <code>customer_id</code> attribute matches the value of the HTTP request parameter <code>id</code>.</p> <p>It is also possible to specify bindings against methods. However, specifying a binding for a field to match a request parameter is the most common case.</p> <p>If no default search criteria binding is needed, just omit the tag.</p> <p>If there are multiple default search criteria bindings, they all have to match. By adding the attribute <code>&lt;defaultSearchCriteriaBindings combineConditionsWith=\"or\"&gt;</code>, the conditions can be applied as alternatives (that is, one or more have to match).</p> <p>The ways the bindings are declared are best explained by examples:</p> <p>The most simple example is:</p> <pre><code>&lt;field name=\"customer_id\" method=\"Magento\\Customer\\Model\\Session::getCustomerId\"/&gt;\n</code></pre> <p>The declaration will limit the grid data to records where the <code>customer_id</code> field matches the value of the expression</p> <pre><code>$objectManager-&gt;get('Magento\\Customer\\Model\\Session')-&gt;getCustomerId()\n</code></pre> <p>It is also possible to pass parameters to the method:</p> <pre><code>&lt;field name=\"entity_id\" method=\"Magento\\Framework\\App\\RequestInterface::getParam\" param=\"id\"/&gt;\n</code></pre> <p>This example is the equivalent of using <code>requestParam</code>. It binds the <code>entity_id</code> field to the value of the expression</p> <pre><code>$objectManager-&gt;get('Magento\\Framework\\App\\RequestInterface')-&gt;getParam('id');\n</code></pre> <p>Finally it\u2019s possible to go one level deeper and specify a binding against a property of the methods return value.</p> <pre><code>&lt;field name=\"store_id\" method=\"Magento\\Store\\Model\\StoreManagerInterface::getStore\" property=\"id\"/&gt;\n</code></pre> <p>How the property is resolved depends on the returned value. If it is an array, the <code>property</code> will be used as an index of the array, e.g. <code>$value['id']</code>.</p> <p>If the returned value is an object with a matching getter method, it will be called to produce the bound value.</p> <pre><code>$objectManager-&gt;get('Magento\\Store\\Model\\StoreManagerInterface')-&gt;getStore()-&gt;getId();\n</code></pre> <p>If that method doesn\u2019t exist, the logic will also try to read the value in a number of other ways (from a public property, or using <code>getData('id')</code>, or using array access).</p> <p>If more complex or chained calls are necessary, they have to be wrapped in a custom class that then can be used in the XML.</p>"},{"location":"guides/hyva-admin-grid-walkthrough/declaring-the-grid-block.html","title":"Declaring the Grid Block","text":"<p>The first step in creating a Hyv\u00e4 grid is to declare the grid block in layout XML and load alpine.js and tailwind.</p> <p>To load alpine.js and tailwind, use an update layout directive for the handle <code>hyva_admin_grid</code>:</p> <pre><code>&lt;page xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n      xsi:noNamespaceSchemaLocation=\"urn:magento:framework:View/Layout/etc/page_configuration.xsd\"&gt;\n\n    &lt;update handle=\"hyva_admin_grid\"/&gt;\n\n&lt;/page&gt;\n</code></pre> <p>The block usually is added to the content area container, and has to be a <code>Hyva\\Admin\\Block\\Adminhtml\\HyvaGrid</code> instance.</p> <p>Specify the grid name as the block name, or as a block argument <code>grid_name</code>.</p> <pre><code>&lt;referenceContainer name=\"content\"&gt;\n    &lt;block class=\"Hyva\\Admin\\Block\\Adminhtml\\HyvaGrid\" name=\"demo-grid\"/&gt;\n&lt;/referenceContainer&gt;\n</code></pre> <p>This is what it looks like to specify the block name as an argument:</p> <pre><code>&lt;referenceContainer name=\"content\"&gt;\n    &lt;block class=\"Hyva\\Admin\\Block\\Adminhtml\\HyvaGrid\" name=\"walkthrough-demo-grid\"&gt;\n        &lt;arguments&gt;\n            &lt;argument name=\"grid_name\" xsi:type=\"string\"&gt;demo-grid&lt;/argument&gt;\n        &lt;/arguments&gt;\n   &lt;/block&gt;\n&lt;/referenceContainer&gt;\n</code></pre> <p>The name of the grid refers to the grid XML file name (without the .xml filename ending).</p> <p>For the above examples it would be <code>[Module_Dir]/view/adminhtml/hyva-grid/demo-grid.xml</code>.</p>"},{"location":"guides/hyva-admin-grid-walkthrough/default-sort-order.html","title":"Default Sort Order","text":"<p>The default sort order can be configured in the <code>&lt;navigation&gt;&lt;sorting/&gt;&lt;/navigation&gt;</code> part of a grid XML file.</p> <pre><code>&lt;sorting&gt;\n    &lt;defaultSortByColumn&gt;created_at&lt;/defaultSortByColumn&gt;\n    &lt;defaultSortDirection&gt;desc&lt;/defaultSortDirection&gt;\n&lt;/sorting&gt;\n</code></pre> <p>Users can change the sort order by clicking on the column titles. Clicking on a title multiple times reverses the sort order.</p> <p>For more detailed information about which columns are sortable and how sorting works, please refer to the Sorting Columns documentation in the design docs.</p>"},{"location":"guides/hyva-admin-grid-walkthrough/entity-config.html","title":"Entity Config","text":"<p>This section of a Grid XML file simply supplies the name to render in the message when a grid contains no data.</p> <pre><code>&lt;entityConfig&gt;\n    &lt;label&gt;\n        &lt;singular&gt;File&lt;/singular&gt;\n        &lt;plural&gt;Files&lt;/plural&gt;\n    &lt;/label&gt;\n&lt;/entityConfig&gt;\n</code></pre> <p>This section is optional though, and if it is missing, the grid name is used to create a message.</p> <p>In future more information might be added here.</p>"},{"location":"guides/hyva-admin-grid-walkthrough/exports.html","title":"Exports","text":"<p>Exports allow admin users to export the current selection of the grid.</p> <p>Filters and sort orders are applied when exporting a grid.</p> <p>Three export types are supported out of the box, and it also is possible to create custom export formats.</p>"},{"location":"guides/hyva-admin-grid-walkthrough/exports.html#supported-export-formats","title":"Supported Export Formats:","text":"<ul> <li>CSV</li> <li>XML</li> <li>XLSX</li> </ul>"},{"location":"guides/hyva-admin-grid-walkthrough/exports.html#example","title":"Example:","text":"<pre><code>&lt;navigation&gt;\n    &lt;exports&gt;\n        &lt;export type=\"csv\" label=\"Export as CSV\"/&gt;\n        &lt;export type=\"xml\" label=\"Export as XML\" enabled=\"false\"/&gt;\n        &lt;export type=\"xlsx\" label=\"Export as XLSX\"/&gt;\n        &lt;export type=\"custom\"\n                label=\"Export as my custom format\"\n                class=\"MyModuleModelCustomGridExport\"\n                fileName=\"example.foo\"\n                sortOrder=\"1\"\n        /&gt;\n    &lt;/exports&gt;\n&lt;/navigation&gt;\n</code></pre> <p>For the known export types <code>csv</code>, <code>xml</code> and <code>xlsx</code> no <code>class</code> declaration is necessary.</p> <p>For custom types an export class needs to be specified. The custom export class has to extend from</p> <p><code>Hyva\\Admin\\Model\\Grid\\ExportType\\AbstractExportType</code>.and implement the method</p> <p><code>public function createFileToDownload()</code>.</p> <p>More information about custom export types can be found in the PHP API reference at Grid AbstractExportType.</p> <p>More information about the export XML configuration can be found in the XML API reference at grid &gt; navigation &gt; exports.</p>"},{"location":"guides/hyva-admin-grid-walkthrough/filtering.html","title":"Filtering","text":"<p>By default columns are not filterable.</p> <p>This is the default because filtering is the most tricky thing to get right automatically.</p> <p>For simple columns types it works well, but as soon as some data is loaded in a special way it\u2019s no longer possible to apply filters automatically.</p> <p>Anyhow, filtering can be enabled for specific columns in the <code>&lt;navigation&gt;&lt;filters/&gt;&lt;/navigation&gt;</code> section of a grid XML file.</p> <pre><code>&lt;navigation&gt;\n    &lt;filters&gt;\n        &lt;filter column=\"sku\"/&gt;\n        &lt;filter column=\"activity\"/&gt;\n        &lt;filter column=\"id\"/&gt;\n    &lt;/filters&gt;\n&lt;/navigation&gt;\n</code></pre> <p>The order in which filters are configured has no effect.</p> <p>How a filter is rendered and how it is applied depends on the type of the column.</p> <p>So for example, a datetime column filter renders as a date-range filter.</p> <p>A column with string values will have a text input filter, and so on.</p> <p>It\u2019s also possible to create custom filter types if needed. Please refer to the filters documentation in the Grid XML API reference and the PHP Classes and Interfaces API reference for more information.</p> <p>Some information on custom filters can be found in the Filtering Extension Attribute Columns document in the deep docs.</p>"},{"location":"guides/hyva-admin-grid-walkthrough/pagination.html","title":"Pagination","text":"<p>Grids use a default page size, but that can be changed in the <code>&lt;navigation&gt;&lt;pager/&gt;&lt;/navigation&gt;</code> section of a grid XML file.</p> <pre><code>&lt;navigation&gt;\n    &lt;pager&gt;\n        &lt;defaultPageSize&gt;5&lt;/defaultPageSize&gt;\n        &lt;pageSizes&gt;2,5,10&lt;/pageSizes&gt;\n    &lt;/pager&gt;\n&lt;/navigation&gt;\n</code></pre> <p>This is so simple I don\u2019t know what else to write about it.</p>"},{"location":"guides/hyva-admin-grid-walkthrough/prerequisites-for-a-grid.html","title":"Prerequisites for a Grid","text":"<p>To create a grid, we need a backend page.</p> <p>That means there needs to be</p> <ul> <li>A backend route configuration (<code>etc/adminhtml/routes.xml</code>).</li> <li>A backend action controller (<code>Controller/Adminhtml/Some/Page.php</code>).</li> <li>Some way to navigate to the page, so probably a <code>etc/adminhtml/menu.xml</code> entry.</li> <li>Maybe a <code>etc/acl.xml</code> entry for the controller and menu entry, too, even though Hyv\u00e4 grids don\u2019t use the ACL.</li> <li>A layout XML file for the page in <code>view/adminhtml/layout/my_module_some_page.xml</code></li> </ul> <p>All of these are standard Magento things and not specific to Hyva_Admin.</p>"},{"location":"guides/hyva-admin-grid-walkthrough/setting-a-grid-data-source.html","title":"Setting a Grid Data Source","text":"<p>Every grid needs data to display.</p> <p>Hyva_Admin grids try to make it as simple as possible to take existing data and display it in a grid.</p> <p>Sources can be different types. Currently Hyva_Admin supports the following grid source types:</p> <ul> <li>Array Grid Source Type</li> <li>Repository Grid Source Type</li> <li>Collection Grid Source Type</li> <li>Query Grid Source Type</li> </ul> <p>The source type is configured in the grid XML file in a <code>&lt;source&gt;</code> element.</p> <p>The child element determines the type of provider</p>"},{"location":"guides/hyva-admin-grid-walkthrough/setting-a-grid-data-source.html#array-grid-source","title":"Array Grid Source","text":"<p>To set an array provider, use the <code>&lt;arrayProvider&gt;</code> element:</p> <pre><code>&lt;source&gt;\n    &lt;arrayProvider&gt;Hyva\\AdminTest\\Model\\LogFileListProvider&lt;/arrayProvider&gt;\n&lt;/source&gt;\n</code></pre> <p>Array providers have to implement the interface <code>Hyva\\Admin\\Api\\HyvaGridArrayProviderInterface</code>.</p> <p>More details on array providers can be found in the PHP Class API reference documentation.</p> <p>Array providers return the full data. Pagination, filtering and sorting is applied in later by Hyva_Admin.</p> <p>In future another array provider variation might be added that allows handling pagination directly, so it can work with efficiently with large data sets. Currently a collection of repository provider needs to be used for this.</p>"},{"location":"guides/hyva-admin-grid-walkthrough/setting-a-grid-data-source.html#repository-grid-source","title":"Repository Grid Source","text":"<p>To set a repository source type, use the <code>&lt;repositoryListMethod&gt;</code> element:</p> <pre><code>&lt;source&gt;\n    &lt;repositoryListMethod&gt;\\Magento\\Customer\\Api\\CustomerRepositoryInterface::getList&lt;/repositoryListMethod&gt;\n&lt;/source&gt;\n</code></pre> <p>The name of the method doesn\u2019t have to be <code>getList</code>. The important thing here is that the specified method takes a <code>Magento\\Framework\\Api\\SearchCriteriaInterface</code> as an argument, and returns a <code>Magento\\Framework\\Api\\SearchResultsInterface</code> like thing.</p> <p>In the core code convention is to name these methods <code>getList</code>, but you can use whatever name you want on custom repositories, as long as the input and output are the same.</p>"},{"location":"guides/hyva-admin-grid-walkthrough/setting-a-grid-data-source.html#collection-grid-source","title":"Collection Grid Source","text":"<p>Next there is the collection source type. It is specified with the collection element:</p> <pre><code>&lt;source&gt;\n    &lt;collection&gt;Magento\\Customer\\Model\\ResourceModel\\Customer\\Collection&lt;/collection&gt;\n&lt;/source&gt;\n</code></pre> <p>The collection has to be a DB collection, because that is how the sorting, paging and filtering is applied. That said, more basic collections are very rare, so most should \u201cjust work\u201d.</p>"},{"location":"guides/hyva-admin-grid-walkthrough/setting-a-grid-data-source.html#query-grid-source","title":"Query Grid Source","text":"<p>Finally there is the query source type.</p> <p>The query source type allows configuring a SQL select query in the grid XML. The result is displayed directly in the grid, without the need for any custom PHP classes.</p> <pre><code>&lt;source&gt;\n    &lt;query&gt;\n        &lt;select&gt;\n            &lt;from table=\"sales_order\"/&gt;\n            &lt;columns&gt;\n                &lt;column name=\"status\"/&gt;\n                &lt;column name=\"state\"/&gt;\n                &lt;column name=\"created_at\" as=\"latest_order\"/&gt;\n                &lt;expression as=\"count\"&gt;COUNT(*)&lt;/expression&gt;\n            &lt;/columns&gt;\n            &lt;groupBy&gt;\n                &lt;column name=\"status\"/&gt;\n                &lt;column name=\"state\"/&gt;\n            &lt;/groupBy&gt;\n        &lt;/select&gt;\n    &lt;/query&gt;\n&lt;/source&gt;\n</code></pre> <p>At the time of writing query source providers support select expressions, join, group by and, union select.</p> <p>Pagination and sorting can be applied by configuring default search criteria bindings (see the next page in this walkthrough).</p>"},{"location":"guides/hyva-admin-grid-walkthrough/setting-a-grid-data-source.html#choosing-the-right-source-for-a-grid","title":"Choosing the right source for a grid","text":"<p>Often we can choose between a repository list method, a collection and maybe even another grid  collection. For example, for Magento orders the choices are:</p> <ul> <li><code>Magento\\Sales\\Api\\OrderRepositoryInterface::getList</code></li> <li><code>Magento\\Sales\\Model\\ResourceModel\\Order\\Collection</code></li> <li><code>Magento\\Sales\\Model\\ResourceModel\\OrderGridCollection</code></li> </ul> <p>Which is best?</p> <p>As always the answer is, it depends.</p> <p>Most of the time it doesn\u2019t matter. Just use what you have at hand and see if it is good enough.</p> <p>Sometimes a repository returns entities with more columns that are not present on regular models. These might be extension attributes that are not loaded on the regular models.</p> <p>Other times grid collections contain aggregate fields that aren\u2019t available on regular collections or with entities loaded with a repository.</p> <p>This is the case for the order grid collection, where the index table contains a field for the full customer name. The regular order model only contains separate fields for the customer first and last name.</p> <p>A column containing the full name can make filtering for a specific customer name more convenient.</p>"},{"location":"guides/hyva-admin-grid-walkthrough/setting-a-grid-data-source.html#future-provider-types","title":"Future provider types:","text":"<p>More grid providers will be added and the existing ones improved, as the need arrises.</p> <p>If you implement a grid provider you find useful, please open a merge request!</p>"},{"location":"guides/hyva-admin-grid-walkthrough/the-grid-xml-file.html","title":"The Grid XML file","text":"<p>Grid XML files are located in the directory <code>view/adminhtml/hyva-grid</code>.</p> <p>A skeleton grid XML file looks like this:</p> <pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;grid xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n      xsi:noNamespaceSchemaLocation=\"urn:magento:module:Hyva_Admin:etc/hyva-grid.xsd\"&gt;\n\n&lt;/grid&gt;\n</code></pre> <p>The grid XML file is named after the HyvaGrid block name or the <code>grid_name</code> layout XML argument on the block.</p> <p>For example, if the <code>HyvaGrid</code> block <code>grid_name</code> layout XML argument is <code>my-first-grid</code>, then the grid XML file name would be <code>view/adminhtml/hyva-grid/my-first-grid.xml</code>.</p> <pre><code>&lt;arguments&gt;\n    &lt;argument name=\"grid_name\" xsi:type=\"string\"&gt;my-first-grid&lt;/argument&gt;\n&lt;/arguments&gt;\n</code></pre> <p>The XML Schema declaration on the <code>&lt;grid&gt;</code> root element isn\u2019t needed, but it\u2019s a good idea to include it so IDEs like PHPStorm can offer autocompletion and validation. That makes writing the grid definition a breeze.</p> <pre><code>&lt;grid xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n      xsi:noNamespaceSchemaLocation=\"urn:magento:module:Hyva_Admin:etc/hyva-grid.xsd\"&gt;\n</code></pre> <p>The XSD schema can be found in the Hyva_Admin module at <code>etc/hyva-grid.xsd</code>.</p> <p>Grid XML is merged on a per-grid bases like any other Magento XML file type. In this way it is possible to extend or customize grids declared in other modules.</p>"},{"location":"guides/hyva-admin-grid-walkthrough/using-grid-source-processors.html","title":"Using Grid Source Processors","text":"<p>Grid source processors are rarely needed. They allow low level access to the grid data load process, in case the declarative nature of Hyv\u00e4 admin grids is not sufficient.</p> <p>If you are only just beginning to use Hyv\u00e4 admin grids, feel free to skip this page and come back to it later if you are bumping against the boundaries of what can be done in configuration only.</p> <p>Sometimes the Hyva Admin Grid API is too limited for what you need to do. For example. applying a filter might require a non-standard process because it involves some external entity.</p> <p>In such cases it\u2019s possible to declare grid source processors. A grid can have any number of grid source processors.</p> <pre><code>&lt;source&gt;\n    &lt;processors&gt;\n        &lt;processor class=\"Hyva\\AdminTest\\HyvaGridProcessor\\ProductGridQueryProcessor\"/&gt;\n    &lt;/processors&gt;\n&lt;/source&gt;\n</code></pre> <p>Processors implement the interface <code>Hyva\\Admin\\Api\\HyvaGridSourceProcessorInterface</code>.</p> <p>(There is one extended processor interface for use with collections, the <code>HyvaGridCollectionProcessorInterface</code>.  More on that further below). <pre><code>interface HyvaGridSourceProcessorInterface\n{\n    /**\n     * Provides the ability to mutate the grid $source before the grid data is loaded.\n     *\n     * @param mixed $source\n     * @param SearchCriteriaInterface $searchCriteria\n     * @param string $gridName\n     */\n    public function beforeLoad($source, SearchCriteriaInterface $searchCriteria, string $gridName): void;\n\n    /**\n     * Provides the ability to change the raw grid result after it is loaded.\n     *\n     * @param mixed $rawResult\n     * @param SearchCriteriaInterface $searchCriteria\n     * @param string $gridName\n     * @return mixed\n     */\n    public function afterLoad($rawResult, SearchCriteriaInterface $searchCriteria, string $gridName);\n}\n</code></pre></p> <p>If only one of the methods is needed, a processor can also extend from</p> <p><code>Hyva\\Admin\\Model\\Grid\\Source\\AbstractGridSourceProcessor</code> and override only the needed method.</p> <p>The effect of processors could also be achieved using events or plugins, but processors are designed to require the least amount of boilerplate code.</p>"},{"location":"guides/hyva-admin-grid-walkthrough/using-grid-source-processors.html#grid-processor-method-arguments","title":"Grid Processor method arguments","text":""},{"location":"guides/hyva-admin-grid-walkthrough/using-grid-source-processors.html#source-and-rawresult","title":"$source and $rawResult","text":"<p>The  <code>beforeLoad</code> and <code>afterLoad</code>, and they receive the grid source instance and the raw data.</p> <p>As you can see in the interface show above, the <code>$source</code> and <code>$rawResult</code> arguments are annotated to have the type <code>mixed</code>.</p> <p>This is because they depends on the grid source type that is being used.</p> <p>Repository Grid source</p> <ul> <li><code>$source</code>: instance of the class on which the getList method is called</li> <li><code>$rawResult</code>:  <code>MagentoFrameworkApiSearchResultsInterface</code> instance</li> </ul> <p>Collection Grid source</p> <ul> <li><code>$source</code>: Collection instance before the search criteria are applied</li> <li><code>$rawResult</code>: Collection instance after the search criteria has been applied (it may already be loaded)</li> </ul> <p>Array Grid source</p> <ul> <li><code>$source</code>: array provider instance</li> <li><code>$rawResult</code>: array result after filtering but before pagination or sorting has been applied</li> </ul> <p>Query Grid source</p> <ul> <li><code>$source</code>: <code>MagentoFrameworkDBSelect</code> instance after search criteria is applied</li> <li><code>$rawResult</code>: Query result array with the structure <code>['data' =&gt; $rows, 'count' =&gt; $count]</code></li> </ul>"},{"location":"guides/hyva-admin-grid-walkthrough/using-grid-source-processors.html#searchcriteriainterface-searchcriteria","title":"SearchCriteriaInterface $searchCriteria","text":"<p>The <code>SearchCriteriaInterface</code> instance with all the filters, pagination and sorting values that should be applied for the current grid view.</p> <p>The search criteria is only provided for informational purposes - do not change any values on it, as that would cause the grid source to be queried multiple times.</p> <p>The reason is that the <code>GridSource</code> memoizes the grid data depending on the search criteria values.</p> <p>If the method is called again but the search criteria has changed, the query will be executed again.</p>"},{"location":"guides/hyva-admin-grid-walkthrough/using-grid-source-processors.html#string-gridname","title":"string $gridName","text":"<p>The grid name is supplied for informational reasons, for example so it can be included in exception messages if needed.</p>"},{"location":"guides/hyva-admin-grid-walkthrough/using-grid-source-processors.html#example-use-cases","title":"Example use cases:","text":"<p>The use case for afterLoad don\u2019t really depend on the grid source type. afterLoad can always be used to change or enhance the source data.</p> <p>But what can be done in the beforeLoad method depends a lot on the grid source type. Use cases for the beforeLoad processor method include (but are not limited to):</p> <p>Repository Grid source   * Set properties on the repository to influence how the search criteria is applied, for example, the store ID. This will probably only be useful for custom repositories, not for repositories that are provided by the core.</p> <p>Collection Grid source</p> <ul> <li>Setting additional filters and flags on the collection.</li> </ul> <p>Array Grid source</p> <ul> <li>It really depends on what influence the array grid source provider class allows.</li> </ul> <p>Query Grid source</p> <ul> <li> <p>Set bind values on the select instance, remove and alter any part of the query</p> </li> <li> <p>At the time of writing grid source processors are called in module load order - there is no way to apply a sort order.</p> </li> </ul>"},{"location":"guides/hyva-admin-grid-walkthrough/using-grid-source-processors.html#hyvagridcollectionprocessorinterface","title":"HyvaGridCollectionProcessorInterface","text":"<p>This interface extends the regular <code>HyvaGridSourceProcessorInterface</code> with a method that is specific for collections:</p> <pre><code>public function afterInitSelect(AbstractDbCollection $source, string $gridName): void;\n</code></pre> <p>This <code>afterInitSelect</code> callback that is only applicable to collection grid sources. </p> <p>It is called every time the collection grid source is instantiated, before the search criteria is applied. The callback is intended to allow joining additional fields that will then be available as grid columns.</p>"},{"location":"guides/quickstart/index.html","title":"Quickstart Introduction","text":"<p>Once installed, grids can be added to any admin page by adding a bit of layout XML and a grid configuration file.</p> <p>The layout XML has to contain two things:</p> <ul> <li>A <code>&lt;update handle=\"hyva_admin_grid\"/&gt;</code> declaration to load alpine.js and tailwind.</li> <li>A <code>Hyva\\Admin\\Block\\Adminhtml\\HyvaGrid</code> block, with the name of the grid configuration as a the block name or a <code>grid_name</code> block argument or as the blocks name-in-layout.</li> </ul> <p>An example file <code>view/adminhtml/layout/example.xml</code> could look as follows:</p> <pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;page xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:noNamespaceSchemaLocation=\"urn:magento:framework:View/Layout/etc/page_configuration.xsd\"&gt;\n    &lt;update handle=\"hyva_admin_grid\"/&gt;\n    &lt;body&gt;\n        &lt;referenceContainer name=\"content\"&gt;\n            &lt;block class=\"Hyva\\Admin\\Block\\Adminhtml\\HyvaGrid\" name=\"example-grid\"/&gt;\n        &lt;/referenceContainer&gt;\n    &lt;/body&gt;\n&lt;/page&gt;\n</code></pre> <p>After that, a grid configuration has to be created in a directory <code>[Your_Module]/view/adminhtml/hyva-grid</code>, where the file names corresponds to the name that was passed to the grid block (with a <code>.xml</code> suffix added to the file name). For the example above it would be</p> <p><code>view/adminhtml/hyva-grid/example-grid.xml</code>.</p> <p>When writing the grid configuration, any good IDE will allow for auto-completion and validation of the XML thanks to the XSD schema found in the Hyva_Admin module at <code>etc/hyva-grid.xsd</code>.</p> <p>The grid configuration will need contain a grid source specification. Currently that can be a repository list method, or a<code>\\Hyva\\Admin\\Api\\HyvaGridArrayProviderInterface</code> implementation.</p> <p>With no further configuration, all fields of the provided records are shown as grid columns.</p> <p>It's then possible to either exclude columns as needed, or, alternatively, specify an include-list for the columns to display.</p> <p>In many cases the default will be good enough and no further configuration beyond the grid source will be necessary.</p> <p>Grid row actions, mass actions, paging and filtering can also be configured as needed.</p> <p>If this quick start was a bit too terse, check out the walkthrough.</p> <p>Also, maybe have a look at the Examples documentation and the Grid XML reference for more information.</p>"},{"location":"guides/quickstart/examples/adding-a-hyvagrid-block-in-layout-xml.html","title":"Adding a HyvaGrid Block in Layout XML","text":"<p>The following is all the layout XML that is required to show a Hyva admin grid on an admin page.</p> <ol> <li>The <code>&lt;update&gt;</code> handle is needed to load alpine.js and tailwind.</li> <li>The HyvaGrid block with the grid_name arguement is needed to load the grid.</li> </ol> <p>The grid configuration then is read from <code>view/adminhtml/hyva-grid/some-grid.xml</code>.</p> <pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;page xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n      xsi:noNamespaceSchemaLocation=\"urn:magento:framework:View/Layout/etc/page_configuration.xsd\"&gt;\n    &lt;update handle=\"hyva_admin_grid\"/&gt;\n    &lt;body&gt;\n        &lt;referenceContainer name=\"content\"&gt;\n            &lt;block class=\"Hyva\\Admin\\Block\\Adminhtml\\HyvaGrid\" name=\"some-grid\"/&gt;\n        &lt;/referenceContainer&gt;\n    &lt;/body&gt;\n&lt;/page&gt;\n</code></pre> <p>The grid name can also be specified with a block argument. The following example is equivalent with the one above:</p> <pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;page xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n      xsi:noNamespaceSchemaLocation=\"urn:magento:framework:View/Layout/etc/page_configuration.xsd\"&gt;\n    &lt;update handle=\"hyva_admin_grid\"/&gt;\n    &lt;body&gt;\n        &lt;referenceContainer name=\"content\"&gt;\n            &lt;block class=\"Hyva\\Admin\\Block\\Adminhtml\\HyvaGrid\" name=\"demo-grid\"&gt;\n                &lt;arguments&gt;\n                    &lt;argument name=\"grid_name\" xsi:type=\"string\"&gt;some-grid&lt;/argument&gt;\n                &lt;/arguments&gt;\n            &lt;/block&gt;\n        &lt;/referenceContainer&gt;\n    &lt;/body&gt;\n&lt;/page&gt;\n</code></pre>"},{"location":"guides/quickstart/examples/array-grid-data-provider.html","title":"Array Grid Data Provider","text":"<p>This is an example for simple array grid data provider.</p> <p>The class needs to implement <code>Hyva\\Admin\\Api\\HyvaGridArrayProviderInterface</code></p> <p>The <code>getHyvaGridData</code> method returns an array with all the records.</p> <p>Each record is a sub-array and will be rendered as a row in the grid.</p> <p>The grid columns are taken from the array keys of the first record in the returned array.</p> <pre><code>&lt;?php declare(strict_types=1);\n\nnamespace Hyva\\AdminTest\\Model;\n\nuse Hyva\\Admin\\Api\\HyvaGridArrayProviderInterface;\nuse Magento\\Framework\\App\\Filesystem\\DirectoryList;\nuse Magento\\Framework\\Filesystem\\Io\\FileFactory;\n\nclass LogFileListProvider implements HyvaGridArrayProviderInterface\n{\n    private DirectoryList $directoryList;\n\n    private FileFactory $fileFactory;\n\n    public function __construct(DirectoryList $directoryList, FileFactory $fileFactory)\n    {\n        $this-&gt;directoryList = $directoryList;\n        $this-&gt;fileFactory = $fileFactory;\n    }\n\n    public function getHyvaGridData(): array\n    {\n        $file = $this-&gt;fileFactory-&gt;create();\n        $file-&gt;cd($this-&gt;directoryList-&gt;getPath(DirectoryList::LOG));\n\n        return $file-&gt;ls();\n    }\n}\n</code></pre>"},{"location":"guides/quickstart/examples/array-grid-provider-configuration.html","title":"Array Grid Provider Configuration","text":"<p>This is how a grid with an array provider source can be configured. Technically not even an exclude column is required - but leaving only the source config in the example seemed like too little.</p> <pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;grid xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n      xsi:noNamespaceSchemaLocation=\"urn:magento:module:Hyva_Admin:etc/hyva-grid.xsd\"&gt;\n    &lt;source&gt;\n        &lt;arrayProvider&gt;Hyva\\AdminTest\\Model\\LogFileListProvider&lt;/arrayProvider&gt;\n    &lt;/source&gt;\n    &lt;columns&gt;\n        &lt;exclude&gt;\n            &lt;column name=\"leaf\"/&gt;\n        &lt;/exclude&gt;\n    &lt;/columns&gt;\n&lt;/grid&gt;\n</code></pre>"},{"location":"guides/quickstart/examples/repository-getlist-grid-data-provider.html","title":"Repository::getList Grid Data Provider","text":"<p>This is an example for a grid configuration that uses the product repository as a data source.</p> <p>Repositories are the most common type of grid data providers, since they often already exist in the core or custom modules.</p> <p>The configuration can be as simple as the previous minimalist array provider example, but the example below showcases more grid configuration possibilities.</p> <pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;grid xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n      xsi:noNamespaceSchemaLocation=\"urn:magento:module:Hyva_Admin:etc/hyva-grid.xsd\"&gt;\n    &lt;source&gt;\n        &lt;repositoryListMethod&gt;\\Magento\\Catalog\\Api\\ProductRepositoryInterface&lt;/repositoryListMethod&gt;\n    &lt;/source&gt;\n    &lt;columns&gt;\n        &lt;include&gt;\n            &lt;column name=\"id\"/&gt;\n            &lt;column name=\"sku\"/&gt;\n            &lt;column name=\"activity\"/&gt;\n            &lt;column name=\"name\"/&gt;\n            &lt;column name=\"image\" type=\"magento_product_image\" renderAsUnsecureHtml=\"true\"\n                    label=\"Main Image\"\n                    template=\"Hyva_AdminTest::image.phtml\"/&gt;\n            &lt;column name=\"media_gallery\" renderAsUnsecureHtml=\"true\"/&gt;\n            &lt;column name=\"price\" type=\"price\"/&gt;\n            &lt;column name=\"short_description\" initiallyHidden=\"true\"/&gt;\n        &lt;/include&gt;\n        &lt;exclude&gt;\n            &lt;column name=\"category_gear\"/&gt;\n        &lt;/exclude&gt;\n    &lt;/columns&gt;\n    &lt;actions idColumn=\"id\"&gt;\n        &lt;action id=\"edit\" label=\"Edit\" url=\"*/*/edit\"/&gt;\n        &lt;action id=\"delete\" label=\"Delete\" url=\"*/*/delete\"/&gt;\n    &lt;/actions&gt;\n    &lt;massActions idColumn=\"id\"&gt;\n        &lt;action id=\"reindex\" label=\"Reindex\" url=\"*/massAction/reindex\"/&gt;\n        &lt;action id=\"delete\" label=\"Delete\" url=\"*/massAction/delete\"\n                requireConfirmation=\"true\"/&gt;\n    &lt;/massActions&gt;\n    &lt;navigation&gt;\n        &lt;pager&gt;\n            &lt;defaultPageSize&gt;5&lt;/defaultPageSize&gt;\n            &lt;pageSizes&gt;2,5,10&lt;/pageSizes&gt;\n        &lt;/pager&gt;\n        &lt;sorting&gt;\n            &lt;defaultSortByColumn&gt;sku&lt;/defaultSortByColumn&gt;\n            &lt;defaultSortDirection&gt;desc&lt;/defaultSortDirection&gt;\n        &lt;/sorting&gt;\n        &lt;filters&gt;\n            &lt;filter column=\"sku\"/&gt;\n            &lt;filter column=\"category_ids\"/&gt;\n            &lt;filter column=\"id\"/&gt;\n            &lt;filter column=\"color\"&gt;\n                &lt;option label=\"reddish\"&gt;\n                    &lt;value&gt;16&lt;/value&gt;\n                    &lt;value&gt;17&lt;/value&gt;\n                    &lt;value&gt;18&lt;/value&gt;\n                &lt;/option&gt;\n                &lt;option label=\"blueish\"&gt;\n                    &lt;value&gt;12&lt;/value&gt;\n                &lt;/option&gt;\n                &lt;option label=\"rose\"&gt;\n                    &lt;value&gt;100&lt;/value&gt;\n                &lt;/option&gt;\n            &lt;/filter&gt;\n        &lt;/filters&gt;\n    &lt;/navigation&gt;\n&lt;/grid&gt;\n</code></pre>"}]}