<?php declare(strict_types=1);

/** @var \Magento\Framework\View\Element\Template $block */
/** @var \Magento\Framework\Escaper $escaper */
/** @var \Hyva\Admin\ViewModel\HyvaForm\FormGroupInterface $group */

$escaper = $escaper ?? $block;

?>
<div>
    <!-- When it grows this up is supposed to render as a collapsable field group -->
    <div class="group-<?= $group->getId() ?> mb-4 mt-3 font-bold"
        @click="activeGroups['<?= $group->getSectionId() ?>'] = '<?= $group->getId() ?>'">
        <?= $escaper->escapeHtml($group->getLabel()) ?>
    </div>
    <div class="grid gap-3" style="grid-template-columns: 17rem minmax(0, 1fr)"
         x-show="activeGroups['<?= $group->getSectionId() ?>'] === '<?= $group->getId() ?>'"
    >
        <?php foreach ($group->getFields() as $field): ?>
            <?= $field->getHtml() ?>
        <?php endforeach; ?>
    </div>
</div>
